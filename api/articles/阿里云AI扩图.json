{"title":"é˜¿é‡Œäº‘AIæ‰©å›¾","uid":"af0ea2a5dd8fabab515520a49ab3cbc6","slug":"é˜¿é‡Œäº‘AIæ‰©å›¾","date":"2025-12-09T01:35:56.000Z","updated":"2025-12-09T02:19:13.952Z","comments":true,"path":"api/articles/é˜¿é‡Œäº‘AIæ‰©å›¾.json","keywords":"VUEã€Pythonã€JAVA","cover":"/medias/aliai.png","content":"<h2 id=\"1ã€å®˜æ–¹ä»‹ç»\"><a href=\"#1ã€å®˜æ–¹ä»‹ç»\" class=\"headerlink\" title=\"1ã€å®˜æ–¹ä»‹ç»\"></a>1ã€å®˜æ–¹ä»‹ç»</h2><p>é€šè¿‡é˜…è¯» <a href=\"https://click.aliyun.com/m/1000400274/\">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå‘ç°å®ƒæ˜¯æ”¯æŒ AI å›¾åƒç¼–è¾‘ä¸ç”ŸæˆåŠŸèƒ½çš„ï¼ŒåŒ…æ‹¬ AI æ‰©å›¾ï¼Œæ”¯æŒ HTTP è°ƒç”¨ï¼Œç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207135829829.png\" alt=\"image-20251207135829829\"></p>\n<p>åœ¨ <a href=\"https://click.aliyun.com/m/1000400275/\">æ§åˆ¶å°</a> ä¹Ÿèƒ½çœ‹åˆ°å¯¹åº”çš„å›¾åƒç”»é¢æ‰©å±•æ¨¡å‹ï¼š</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207135842340.png\" alt=\"image-20251207135842340\"></p>\n<h2 id=\"2ã€è°ƒç”¨æ–¹å¼\"><a href=\"#2ã€è°ƒç”¨æ–¹å¼\" class=\"headerlink\" title=\"2ã€è°ƒç”¨æ–¹å¼\"></a>2ã€è°ƒç”¨æ–¹å¼</h2><p>é€šè¿‡é˜…è¯» <a href=\"https://click.aliyun.com/m/1000400274/\">AI å›¾åƒæ‰©å±•çš„å®˜æ–¹æ–‡æ¡£</a>ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒAPI åªæ”¯æŒå¼‚æ­¥æ–¹å¼è°ƒç”¨ã€‚</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207135903986.png\" alt=\"image-20251207135903986\"></p>\n<p>è¿™æ˜¯å› ä¸º AI ç»˜ç”»ä»»åŠ¡è®¡ç®—é‡å¤§ä¸”è€—æ—¶é•¿ï¼ŒåŒæ­¥è°ƒç”¨ä¼šå¯¼è‡´æœåŠ¡å™¨çº¿ç¨‹é•¿æ—¶é—´è¢«å•ä¸ªä»»åŠ¡å ç”¨ï¼Œé™åˆ¶äº†å¹¶å‘å¤„ç†èƒ½åŠ›ï¼Œå¢åŠ äº†è¶…æ—¶å’Œç³»ç»Ÿå´©æºƒçš„é£é™©ã€‚é€šè¿‡å¼‚æ­¥è°ƒç”¨ï¼ŒæœåŠ¡å™¨å¯ä»¥å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œåˆç†è°ƒåº¦èµ„æºï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼Œä»è€Œæ›´é«˜æ•ˆåœ°æœåŠ¡å¤šä¸ªç”¨æˆ·è¯·æ±‚ï¼Œæå‡æ•´ä½“ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>\n<p>åŒæ­¥è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼Œå¥½å¤„æ˜¯å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥è·å–åˆ°ç»“æœï¼Œè°ƒç”¨æ›´æ–¹ä¾¿ï¼š</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207135933203.png\" alt=\"image-20251207135933203\"></p>\n<p>å¼‚æ­¥è°ƒç”¨æµç¨‹å¦‚ä¸‹ï¼Œå®¢æˆ·ç«¯éœ€è¦åœ¨æäº¤ä»»åŠ¡åï¼Œä¸æ–­è½®è¯¢è¯·æ±‚ï¼Œæ¥æ£€æŸ¥ä»»åŠ¡æ˜¯å¦æ‰§è¡Œå®Œæˆï¼š</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207135949372.png\" alt=\"image-20251207135949372\"></p>\n<p>ç”±äº AI æ¥å£å·²ç»é€‰æ‹©äº†å¼‚æ­¥è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½œä¸ºè¦è°ƒç”¨ AI æ¥å£çš„å®¢æˆ·ç«¯ï¼Œè¦ä½¿ç”¨è½®è¯¢çš„æ–¹å¼æ¥æ£€æŸ¥ä»»åŠ¡çŠ¶æ€æ˜¯å¦ä¸º â€œå·²å®Œæˆâ€ï¼Œå¦‚æœå®Œæˆäº†ï¼Œæ‰å¯ä»¥è·å–åˆ°ç”Ÿæˆçš„å›¾ç‰‡ã€‚</p>\n<h3 id=\"åç«¯å¼€å‘\"><a href=\"#åç«¯å¼€å‘\" class=\"headerlink\" title=\"åç«¯å¼€å‘\"></a>åç«¯å¼€å‘</h3><h4 id=\"1ã€AI-æ‰©å›¾-API\"><a href=\"#1ã€AI-æ‰©å›¾-API\" class=\"headerlink\" title=\"1ã€AI æ‰©å›¾ API\"></a>1ã€AI æ‰©å›¾ API</h4><p>é¦–å…ˆå¼€å‘ä¸šåŠ¡ä¾èµ–çš„åŸºç¡€èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ AI æ‰©å›¾ APIã€‚</p>\n<p>1ï¼‰æˆ‘ä»¬è¦åœ¨æ§åˆ¶å°è·å– API Keyï¼Œå¯ <a href=\"https://click.aliyun.com/m/1000400408/\">å‚è€ƒæ–‡æ¡£</a>ï¼š</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207140132635.png\" alt=\"image-20251207140132635\"></p>\n<p>3ï¼‰åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™è·å–åˆ°çš„ apiKeyï¼š</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aliYunAi:</span></span><br><span class=\"line\">  <span class=\"attr\">apiKey:</span> <span class=\"string\">xxxx</span></span><br></pre></td></tr></table></figure>\n\n<p>4ï¼‰æ–°å»ºæ•°æ®æ¨¡å‹ç±»</p>\n<p>åœ¨ <code>api</code> åŒ…ä¸‹æ–°å»º <code>aliyunai</code> åŒ…ï¼Œå­˜æ”¾é˜¿é‡Œäº‘ AI ç›¸å…³ä»£ç ã€‚</p>\n<p>åœ¨ <code>aliyunai.model</code> åŒ…ä¸‹æ–°å»ºæ•°æ®æ¨¡å‹ç±»ï¼Œå¯ä»¥è®© AI æ ¹æ®å®˜æ–¹æ–‡æ¡£ä¸­çš„è¯·æ±‚å“åº”ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€è‡ªå·±æ‰‹åŠ¨ç¼–å†™ã€‚</p>\n<p>ç”±äºæ¯ä¸ª AI å›¾ç‰‡å¤„ç†æ“ä½œçš„è¯·æ±‚å“åº”éƒ½æœ‰ä¸€äº›åŒºåˆ«ï¼Œæ‰€ä»¥å•ç‹¬ç»™ AI æ‰©å›¾åŠŸèƒ½ç¼–å†™å…·ä½“çš„è¯·æ±‚å“åº”ç±»ã€‚</p>\n<p>åˆ›å»ºæ‰©å›¾ä»»åŠ¡è¯·æ±‚ç±»ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CreateOutPaintingTaskRequest</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">String</span> <span class=\"variable\">model</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;image-out-painting&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> Input input;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> Parameters parameters;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Data</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Input</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;image_url&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> String imageUrl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Data</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Parameters</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer angle;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;output_ratio&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> String outputRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;x_scale&quot;)</span></span><br><span class=\"line\">        <span class=\"meta\">@JsonProperty(&quot;xScale&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Float xScale;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;y_scale&quot;)</span></span><br><span class=\"line\">        <span class=\"meta\">@JsonProperty(&quot;yScale&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Float yScale;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;top_offset&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer topOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;bottom_offset&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer bottomOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;left_offset&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer leftOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;right_offset&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer rightOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;best_quality&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Boolean bestQuality;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;limit_image_size&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Boolean limitImageSize;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"meta\">@Alias(&quot;add_watermark&quot;)</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"type\">Boolean</span> <span class=\"variable\">addWatermark</span> <span class=\"operator\">=</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼Œä¸Šè¿°ä»£ç ä¸­ï¼ŒæŸäº›å­—æ®µæ‰“ä¸Šäº† Hutool å·¥å…·ç±»çš„ <code>@Alias</code> æ³¨è§£ï¼Œè¿™ä¸ªæ³¨è§£ä»…å¯¹ Hutool çš„ JSON è½¬æ¢ç”Ÿæ•ˆï¼Œå¯¹ SpringMVC çš„ JSON è½¬æ¢æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p>\n<p>ğŸ’¡ è¿™é‡Œæœ‰ä¸€ä¸ªå·¨å‘çš„åœ°æ–¹ï¼ç»è¿‡æµ‹è¯•å‘ç°ï¼Œå‰ç«¯å¦‚æœä¼ é€’å‚æ•°å xScaleï¼Œæ˜¯æ— æ³•èµ‹å€¼ç»™ xScale å­—æ®µçš„ï¼›ä½†æ˜¯ä¼ é€’å‚æ•°å xscaleï¼Œå°±å¯ä»¥èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸º SpringMVC å¯¹äºç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™çš„å‚æ•°æ— æ³•æ˜ å°„ï¼ˆå’Œå‚æ•°ç±»åˆ«æ— å…³ï¼‰ï¼Œ<a href=\"https://blog.csdn.net/JokerHH/article/details/88729590\">å‚è€ƒåšå®¢</a>ã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œç»™è¿™äº›å­—æ®µå¢åŠ  <code>@JsonProperty</code> æ³¨è§£ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Alias(&quot;x_scale&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@JsonProperty(&quot;xScale&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Float xScale;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Alias(&quot;y_scale&quot;)</span></span><br><span class=\"line\"><span class=\"meta\">@JsonProperty(&quot;yScale&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> Float yScale;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ºä»€ä¹ˆ SpringMVC è¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿé±¼çš®é€šè¿‡æŸ¥é˜…äº†è§£åˆ°ï¼Œè¿™æ˜¯å› ä¸º Jackson åœ¨å¤„ç†å­—æ®µåä¸ JSON å±æ€§åæ˜ å°„æ—¶ï¼Œä¼šä¾èµ– Java çš„ <strong>æ ‡å‡†å‘½åè§„èŒƒ</strong> å’Œ <strong>åå°„ API</strong>ã€‚</p>\n<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ® JavaBean çš„è§„èŒƒï¼Œå±æ€§åç§°ä¸å…¶è®¿é—®å™¨æ–¹æ³•ï¼ˆgetter å’Œ setterï¼‰ä¹‹é—´çš„æ˜ å°„è§„åˆ™æ˜¯ï¼šå¦‚æœå±æ€§åä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œç¬¬äºŒä¸ªå­—æ¯æ˜¯å¤§å†™ï¼ˆå¦‚ <code>eMail</code>ï¼‰ï¼Œè§„èŒƒä»è®¤ä¸ºå±æ€§åç§°æ˜¯ <code>eMail</code>ï¼Œè€Œè®¿é—®å™¨æ–¹æ³•åº”ä¸º <code>geteMail()</code> å’Œ <code>seteMail()</code>ã€‚ä½† Jackson ä¼šå°è¯•æ¨æ–­å±æ€§åä¸º <code>email</code>ï¼ˆå› ä¸º <code>eMail</code> ä¸å¸¸è§ï¼‰ï¼Œä»è€Œå¯¼è‡´ JSON ä¸­ <code>eMail</code> æˆ– <code>email</code> å¯èƒ½æ— æ³•æ­£ç¡®æ˜ å°„ã€‚</p>\n<p>åˆ›å»ºæ‰©å›¾ä»»åŠ¡å“åº”ç±»ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@NoArgsConstructor</span></span><br><span class=\"line\"><span class=\"meta\">@AllArgsConstructor</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CreateOutPaintingTaskResponse</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Output output;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Data</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Output</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String taskId;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String taskStatus;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String code;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String message;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String requestId;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æŸ¥è¯¢ä»»åŠ¡å“åº”ç±»ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@NoArgsConstructor</span></span><br><span class=\"line\"><span class=\"meta\">@AllArgsConstructor</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">GetOutPaintingTaskResponse</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String requestId;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> Output output;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Data</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Output</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String taskId;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String taskStatus;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String submitTime;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String scheduledTime;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String endTime;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String outputImageUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String code;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> String message;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> TaskMetrics taskMetrics;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Data</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TaskMetrics</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer total;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer succeeded;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">private</span> Integer failed;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>5ï¼‰å¼€å‘ API è°ƒç”¨ç±»ï¼Œé€šè¿‡ Hutool çš„ HTTP è¯·æ±‚å·¥å…·ç±»æ¥è°ƒç”¨é˜¿é‡Œäº‘ç™¾ç‚¼çš„ APIï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Slf4j</span></span><br><span class=\"line\"><span class=\"meta\">@Component</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">AliYunAiApi</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"meta\">@Value(&quot;$&#123;aliYunAi.apiKey&#125;&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String apiKey;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">CREATE_OUT_PAINTING_TASK_URL</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;https://dashscope.aliyuncs.com/api/v1/services/aigc/image2image/out-painting&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">String</span> <span class=\"variable\">GET_OUT_PAINTING_TASK_URL</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;https://dashscope.aliyuncs.com/api/v1/tasks/%s&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> CreateOutPaintingTaskResponse <span class=\"title function_\">createOutPaintingTask</span><span class=\"params\">(CreateOutPaintingTaskRequest createOutPaintingTaskRequest)</span> <span class=\"keyword\">throws</span> Exception  &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (createOutPaintingTaskRequest == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(ErrorCode.OPERATION_ERROR, <span class=\"string\">&quot;æ‰©å›¾å‚æ•°ä¸ºç©º&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"type\">HttpRequest</span> <span class=\"variable\">httpRequest</span> <span class=\"operator\">=</span> HttpRequest.post(CREATE_OUT_PAINTING_TASK_URL)</span><br><span class=\"line\">                .header(Header.AUTHORIZATION, <span class=\"string\">&quot;Bearer &quot;</span> + apiKey)</span><br><span class=\"line\">                </span><br><span class=\"line\">                .header(<span class=\"string\">&quot;X-DashScope-Async&quot;</span>, <span class=\"string\">&quot;enable&quot;</span>)</span><br><span class=\"line\">                .header(Header.CONTENT_TYPE, ContentType.JSON.getValue())</span><br><span class=\"line\">                .body(JSONUtil.toJsonStr(createOutPaintingTaskRequest));</span><br><span class=\"line\">        <span class=\"keyword\">try</span> (<span class=\"type\">HttpResponse</span> <span class=\"variable\">httpResponse</span> <span class=\"operator\">=</span> httpRequest.execute()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!httpResponse.isOk()) &#123;</span><br><span class=\"line\">                log.error(<span class=\"string\">&quot;è¯·æ±‚å¼‚å¸¸ï¼š&#123;&#125;&quot;</span>, httpResponse.body());</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(ErrorCode.OPERATION_ERROR, <span class=\"string\">&quot;AI æ‰©å›¾å¤±è´¥&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"type\">CreateOutPaintingTaskResponse</span> <span class=\"variable\">response</span> <span class=\"operator\">=</span> JSONUtil.toBean(httpResponse.body(), CreateOutPaintingTaskResponse.class);</span><br><span class=\"line\">            <span class=\"type\">String</span> <span class=\"variable\">errorCode</span> <span class=\"operator\">=</span> response.getCode();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (StrUtil.isNotBlank(errorCode)) &#123;</span><br><span class=\"line\">                <span class=\"type\">String</span> <span class=\"variable\">errorMessage</span> <span class=\"operator\">=</span> response.getMessage();</span><br><span class=\"line\">                log.error(<span class=\"string\">&quot;AI æ‰©å›¾å¤±è´¥ï¼ŒerrorCode:&#123;&#125;, errorMessage:&#123;&#125;&quot;</span>, errorCode, errorMessage);</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(ErrorCode.OPERATION_ERROR, <span class=\"string\">&quot;AI æ‰©å›¾æ¥å£å“åº”å¼‚å¸¸&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> response;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> GetOutPaintingTaskResponse <span class=\"title function_\">getOutPaintingTask</span><span class=\"params\">(String taskId)</span>  <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StrUtil.isBlank(taskId)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BusinessException</span>(ErrorCode.OPERATION_ERROR, <span class=\"string\">&quot;ä»»åŠ¡ id ä¸èƒ½ä¸ºç©º&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> (<span class=\"type\">HttpResponse</span> <span class=\"variable\">httpResponse</span> <span class=\"operator\">=</span> HttpRequest.get(String.format(GET_OUT_PAINTING_TASK_URL, taskId))</span><br><span class=\"line\">                .header(Header.AUTHORIZATION, <span class=\"string\">&quot;Bearer &quot;</span> + apiKey)</span><br><span class=\"line\">                .execute()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!httpResponse.isOk()) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BusinessException</span>(ErrorCode.OPERATION_ERROR, <span class=\"string\">&quot;è·å–ä»»åŠ¡å¤±è´¥&quot;</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> JSONUtil.toBean(httpResponse.body(), GetOutPaintingTaskResponse.class);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼Œè¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„è¦æ±‚ç»™è¯·æ±‚å¤´å¢åŠ é‰´æƒä¿¡æ¯ï¼Œæ‹¼æ¥é…ç½®ä¸­å†™å¥½çš„ apiKeyï¼š</p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251207140449512.png\" alt=\"image-20251207140449512\"></p>\n<h4 id=\"2ã€æ‰©å›¾æœåŠ¡\"><a href=\"#2ã€æ‰©å›¾æœåŠ¡\" class=\"headerlink\" title=\"2ã€æ‰©å›¾æœåŠ¡\"></a>2ã€æ‰©å›¾æœåŠ¡</h4><p>åœ¨ <code>model.dto.picture</code> åŒ…ä¸‹æ–°å»º AI æ‰©å›¾è¯·æ±‚ç±»ï¼Œç”¨äºæ¥å—å‰ç«¯ä¼ æ¥çš„å‚æ•°å¹¶ä¼ é€’ç»™ Service æœåŠ¡å±‚ã€‚å­—æ®µåŒ…æ‹¬å›¾ç‰‡ id å’Œæ‰©å›¾å‚æ•°ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CreatePictureOutPaintingTaskRequest</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> String url;</span><br><span class=\"line\"></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">private</span> CreateOutPaintingTaskRequest.Parameters parameters;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">long</span> <span class=\"variable\">serialVersionUID</span> <span class=\"operator\">=</span> <span class=\"number\">1L</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨å›¾ç‰‡æœåŠ¡ä¸­ç¼–å†™åˆ›å»ºæ‰©å›¾ä»»åŠ¡æ–¹æ³•ï¼Œä»æ•°æ®åº“ä¸­è·å–å›¾ç‰‡ä¿¡æ¯å’Œ url åœ°å€ï¼Œæ„é€ è¯·æ±‚å‚æ•°åè°ƒç”¨ api åˆ›å»ºæ‰©å›¾ä»»åŠ¡ã€‚æ³¨æ„ï¼Œå¦‚æœå›¾ç‰‡æœ‰ç©ºé—´ idï¼Œåˆ™éœ€è¦æ ¡éªŒæƒé™ï¼Œç›´æ¥å¤ç”¨ä»¥å‰çš„æƒé™æ ¡éªŒæ–¹æ³•ã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CreateOutPaintingTaskResponse <span class=\"title function_\">createPictureOutPaintingTask</span><span class=\"params\">(CreatePictureOutPaintingTaskRequest createPictureOutPaintingTaskRequest)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//åˆ›å»ºæ‰©å›¾ä»»åŠ¡</span></span><br><span class=\"line\">        <span class=\"type\">CreateOutPaintingTaskRequest</span> <span class=\"variable\">taskRequest</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CreateOutPaintingTaskRequest</span>();</span><br><span class=\"line\">        CreateOutPaintingTaskRequest.<span class=\"type\">Input</span> <span class=\"variable\">input</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">CreateOutPaintingTaskRequest</span>.Input();</span><br><span class=\"line\">        <span class=\"comment\">//input.setImageUrl(createPictureOutPaintingTaskRequest.getUrl());</span></span><br><span class=\"line\">        <span class=\"comment\">//å› ä¸ºè¿™é‡Œæ˜¯æµ‹è¯•demoï¼Œæ‰€ä»¥ç»•è¿‡æ•°æ®åº“ï¼Œæ— è®ºå‰ç«¯ä¸Šä¼ ä»€ä¹ˆæ ·çš„å›¾ç‰‡ï¼Œéƒ½åªæ‰©å›¾è¿™å¼ å›¾ç‰‡</span></span><br><span class=\"line\">        input.setImageUrl(<span class=\"string\">&quot;https://img.cdn1.vip/i/693505f85ed5b_1765082616.webp&quot;</span>);</span><br><span class=\"line\">        taskRequest.setInput(input);</span><br><span class=\"line\">        BeanUtil.copyProperties(createPictureOutPaintingTaskRequest, taskRequest);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> aliYunAiApi.createOutPaintingTask(taskRequest);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3ã€æ‰©å›¾æ¥å£\"><a href=\"#3ã€æ‰©å›¾æ¥å£\" class=\"headerlink\" title=\"3ã€æ‰©å›¾æ¥å£\"></a>3ã€æ‰©å›¾æ¥å£</h4><p>åœ¨ PictureController æ·»åŠ  AI æ‰©å›¾æ¥å£ï¼ŒåŒ…æ‹¬åˆ›å»ºä»»åŠ¡å’ŒæŸ¥è¯¢ä»»åŠ¡çŠ¶æ€æ¥å£ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/picture&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">pictureController</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> PictureService pictureService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Resource</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> AliYunAiApi aliYunAiApi;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@PostMapping(&quot;/create_task&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CreateOutPaintingTaskResponse <span class=\"title function_\">createPictureOutPaintingTask</span><span class=\"params\">(</span></span><br><span class=\"line\"><span class=\"params\">            <span class=\"meta\">@RequestBody</span> CreatePictureOutPaintingTaskRequest createPictureOutPaintingTaskRequest)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (createPictureOutPaintingTaskRequest == <span class=\"literal\">null</span> || createPictureOutPaintingTaskRequest.getUrl() == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(<span class=\"string\">&quot;å‚æ•°å¼‚å¸¸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> pictureService.createPictureOutPaintingTask(createPictureOutPaintingTaskRequest);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&quot;/get_task&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> GetOutPaintingTaskResponse <span class=\"title function_\">getPictureOutPaintingTask</span><span class=\"params\">(String taskId)</span> <span class=\"keyword\">throws</span> Exception &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(StrUtil.isBlank(taskId))&#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Exception</span>(<span class=\"string\">&quot;å‚æ•°å¼‚å¸¸&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> aliYunAiApi.getOutPaintingTask(taskId);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å‰ç«¯å¼€å‘\"><a href=\"#å‰ç«¯å¼€å‘\" class=\"headerlink\" title=\"å‰ç«¯å¼€å‘\"></a>å‰ç«¯å¼€å‘</h3><p><code>App.vue</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div id=&quot;addPicturePage&quot;&gt;</span><br><span class=\"line\">    &lt;a-tabs v-model:activeKey=&quot;uploadType&quot;&gt;</span><br><span class=\"line\">      &lt;a-tab-pane key=&quot;file&quot; tab=&quot;æ–‡ä»¶ä¸Šä¼ &quot;&gt;</span><br><span class=\"line\">        &lt;!-- å›¾ç‰‡ä¸Šä¼ ç»„ä»¶ --&gt;</span><br><span class=\"line\">        &lt;PictureUpload :picture=&quot;picture&quot; :onSuccess=&quot;onSuccess&quot; /&gt;</span><br><span class=\"line\">      &lt;/a-tab-pane&gt;</span><br><span class=\"line\">    &lt;/a-tabs&gt;</span><br><span class=\"line\">    &lt;!-- å›¾ç‰‡ç¼–è¾‘ --&gt;</span><br><span class=\"line\">    &lt;div v-if=&quot;showImageCropper&quot; class=&quot;edit-bar&quot;&gt;</span><br><span class=\"line\">      &lt;a-space size=&quot;middle&quot;&gt;</span><br><span class=\"line\">        &lt;a-button type=&quot;primary&quot; :icon=&quot;h(FullscreenOutlined)&quot; @click=&quot;doImagePainting&quot;&gt;</span><br><span class=\"line\">          AI æ‰©å›¾</span><br><span class=\"line\">        &lt;/a-button&gt;</span><br><span class=\"line\">      &lt;/a-space&gt;</span><br><span class=\"line\">      &lt;ImageOutPainting</span><br><span class=\"line\">        ref=&quot;imageOutPaintingRef&quot;</span><br><span class=\"line\">        :picture=&quot;picture&quot;</span><br><span class=\"line\">        :onSuccess=&quot;onImageOutPaintingSuccess&quot;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; h, ref, watch &#125; from &#x27;vue&#x27;</span><br><span class=\"line\">import PictureUpload from &#x27;./components/PictureUpload.vue&#x27;</span><br><span class=\"line\">import &#123; FullscreenOutlined &#125; from &#x27;@ant-design/icons-vue&#x27;</span><br><span class=\"line\">import ImageOutPainting from &#x27;./components/ImageOutPainting.vue&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">const picture = ref&lt;string | null&gt;()</span><br><span class=\"line\">const uploadType = ref&lt;&#x27;file&#x27; | &#x27;url&#x27;&gt;(&#x27;file&#x27;)</span><br><span class=\"line\">const showImageCropper = ref(false)</span><br><span class=\"line\">// ç›‘å¬å›¾ç‰‡å˜åŒ–ï¼Œåœ¨å˜åŒ–æ—¶å…ˆå¸è½½å†é‡æ–°åŠ è½½ç»„ä»¶</span><br><span class=\"line\">watch(picture, () =&gt; &#123;</span><br><span class=\"line\">  showImageCropper.value = false</span><br><span class=\"line\">  setTimeout(() =&gt; &#123;</span><br><span class=\"line\">    showImageCropper.value = true</span><br><span class=\"line\">  &#125;, 0)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">// ----- AI æ‰©å›¾å¼•ç”¨ -----</span><br><span class=\"line\">const imageOutPaintingRef = ref()</span><br><span class=\"line\">// æ‰“å¼€ AI æ‰©å›¾å¼¹çª—</span><br><span class=\"line\">const doImagePainting = async () =&gt; &#123;</span><br><span class=\"line\">  imageOutPaintingRef.value?.openModal()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// AI æ‰©å›¾ä¿å­˜äº‹ä»¶</span><br><span class=\"line\">const onImageOutPaintingSuccess = (newPicture: string) =&gt; &#123;</span><br><span class=\"line\">  picture.value = newPicture</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * å›¾ç‰‡ä¸Šä¼ æˆåŠŸ</span><br><span class=\"line\"> * @param newPicture</span><br><span class=\"line\"> */</span><br><span class=\"line\">const onSuccess = (newPicture: string) =&gt; &#123;</span><br><span class=\"line\">  picture.value = newPicture</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">#addPicturePage &#123;</span><br><span class=\"line\">  max-width: 720px;</span><br><span class=\"line\">  margin: 0 auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">#addPicturePage .edit-bar &#123;</span><br><span class=\"line\">  text-align: center;</span><br><span class=\"line\">  margin: 16px 0;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>PictureUpload.vue</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;div class=&quot;picture-upload&quot;&gt;</span><br><span class=\"line\">    &lt;a-upload list-type=&quot;picture-card&quot; :show-upload-list=&quot;false&quot; :custom-request=&quot;handleUpload&quot;</span><br><span class=\"line\">      :before-upload=&quot;beforeUpload&quot;&gt;</span><br><span class=\"line\">      &lt;img v-if=&quot;pictureUrl&quot; :src=&quot;pictureUrl&quot; alt=&quot;avatar&quot; /&gt;</span><br><span class=\"line\">      &lt;div v-else&gt;</span><br><span class=\"line\">        &lt;loading-outlined v-if=&quot;loading&quot;&gt;&lt;/loading-outlined&gt;</span><br><span class=\"line\">        &lt;plus-outlined v-else&gt;&lt;/plus-outlined&gt;</span><br><span class=\"line\">        &lt;div class=&quot;ant-upload-text&quot;&gt;ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å›¾ç‰‡&lt;/div&gt;</span><br><span class=\"line\">      &lt;/div&gt;</span><br><span class=\"line\">    &lt;/a-upload&gt;</span><br><span class=\"line\">  &lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class=\"line\">import &#123; ref, watch &#125; from &#x27;vue&#x27;</span><br><span class=\"line\">import &#123; LoadingOutlined, PlusOutlined &#125; from &#x27;@ant-design/icons-vue&#x27;</span><br><span class=\"line\">import &#123; message &#125; from &#x27;ant-design-vue&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">const props = defineProps(&#123;</span><br><span class=\"line\">  picture: &#123;</span><br><span class=\"line\">    type: String,</span><br><span class=\"line\">    default: null</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onSuccess: &#123;</span><br><span class=\"line\">    type: Function,</span><br><span class=\"line\">    default: null</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">const emit = defineEmits([&#x27;update:picture&#x27;])</span><br><span class=\"line\"></span><br><span class=\"line\">const loading = ref(false)</span><br><span class=\"line\">const pictureUrl = ref(props.picture || null)</span><br><span class=\"line\"></span><br><span class=\"line\">// ç›‘å¬props.pictureå˜åŒ–</span><br><span class=\"line\">watch(() =&gt; props.picture, (newPicture) =&gt; &#123;</span><br><span class=\"line\">  pictureUrl.value = newPicture || null</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * ä¸Šä¼ å›¾ç‰‡æ¨¡æ‹Ÿå‡½æ•°w</span><br><span class=\"line\"> * @param param0 </span><br><span class=\"line\"> */</span><br><span class=\"line\">const handleUpload = async (&#123; file &#125;) =&gt; &#123;</span><br><span class=\"line\">  loading.value = true</span><br><span class=\"line\"></span><br><span class=\"line\">  // æ¨¡æ‹Ÿä¸Šä¼ è¿‡ç¨‹</span><br><span class=\"line\">  setTimeout(() =&gt; &#123;</span><br><span class=\"line\">    // æ¨¡æ‹Ÿä¸Šä¼ æˆåŠŸ</span><br><span class=\"line\">    pictureUrl.value = URL.createObjectURL(file)</span><br><span class=\"line\">    const newPicture = pictureUrl.value</span><br><span class=\"line\"></span><br><span class=\"line\">    // è§¦å‘æ›´æ–°äº‹ä»¶</span><br><span class=\"line\">    emit(&#x27;update:picture&#x27;, newPicture)</span><br><span class=\"line\"></span><br><span class=\"line\">    // è°ƒç”¨onSuccesså›è°ƒ</span><br><span class=\"line\">    if (props.onSuccess) &#123;</span><br><span class=\"line\">      props.onSuccess(newPicture)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    loading.value = false</span><br><span class=\"line\">  &#125;, 1000)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">/**</span><br><span class=\"line\"> * ä¸Šä¼ å‰çš„æ ¡éªŒ</span><br><span class=\"line\"> * @param file</span><br><span class=\"line\"> */</span><br><span class=\"line\">const beforeUpload = (file) =&gt; &#123;</span><br><span class=\"line\">  // æ ¡éªŒå›¾ç‰‡æ ¼å¼</span><br><span class=\"line\">  const isJpgOrPng = file.type === &#x27;image/jpeg&#x27; || file.type === &#x27;image/png&#x27;</span><br><span class=\"line\">  if (!isJpgOrPng) &#123;</span><br><span class=\"line\">    message.error(&#x27;ä¸æ”¯æŒä¸Šä¼ è¯¥æ ¼å¼çš„å›¾ç‰‡ï¼Œæ¨è jpg æˆ– png&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  // æ ¡éªŒå›¾ç‰‡å¤§å°</span><br><span class=\"line\">  const isLt6M = file.size / 1024 / 1024 &lt; 6</span><br><span class=\"line\">  if (!isLt6M) &#123;</span><br><span class=\"line\">    message.error(&#x27;ä¸èƒ½ä¸Šä¼ è¶…è¿‡ 6M çš„å›¾ç‰‡&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  return isJpgOrPng &amp;&amp; isLt6M</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\">.picture-upload :deep(.ant-upload) &#123;</span><br><span class=\"line\">  width: 100% !important;</span><br><span class=\"line\">  height: 100% !important;</span><br><span class=\"line\">  min-width: 152px;</span><br><span class=\"line\">  min-height: 152px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.picture-upload img &#123;</span><br><span class=\"line\">  max-width: 100%;</span><br><span class=\"line\">  max-height: 480px;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.ant-upload-select-picture-card i &#123;</span><br><span class=\"line\">  font-size: 32px;</span><br><span class=\"line\">  color: #999;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">.ant-upload-select-picture-card .ant-upload-text &#123;</span><br><span class=\"line\">  margin-top: 8px;</span><br><span class=\"line\">  color: #666;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>ImageOutPainting.vue</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  &lt;a-modal class=&quot;image-out-painting&quot; v-model:visible=&quot;visible&quot; title=&quot;AI æ‰©å›¾&quot; :footer=&quot;false&quot; @cancel=&quot;closeModal&quot;&gt;</span><br><span class=\"line\">    &lt;a-row gutter=&quot;16&quot;&gt;</span><br><span class=\"line\">      &lt;a-col span=&quot;12&quot;&gt;</span><br><span class=\"line\">        &lt;h4&gt;åŸå§‹å›¾ç‰‡&lt;/h4&gt;</span><br><span class=\"line\">        &lt;img :src=&quot;picture&quot; style=&quot;max-width: 100%&quot; /&gt;</span><br><span class=\"line\">      &lt;/a-col&gt;</span><br><span class=\"line\">      &lt;a-col span=&quot;12&quot;&gt;</span><br><span class=\"line\">        &lt;h4&gt;æ‰©å›¾ç»“æœ&lt;/h4&gt;</span><br><span class=\"line\">        &lt;img v-if=&quot;resultImageUrl&quot; :src=&quot;resultImageUrl&quot; style=&quot;max-width: 100%&quot; /&gt;</span><br><span class=\"line\">      &lt;/a-col&gt;</span><br><span class=\"line\">    &lt;/a-row&gt;</span><br><span class=\"line\">    &lt;div style=&quot;margin-bottom: 16px&quot; /&gt;</span><br><span class=\"line\">    &lt;a-flex justify=&quot;center&quot; gap=&quot;16&quot;&gt;</span><br><span class=\"line\">      &lt;a-button type=&quot;primary&quot; :loading=&quot;!!taskId&quot; ghost @click=&quot;createTask&quot;&gt;ç”Ÿæˆå›¾ç‰‡&lt;/a-button&gt;</span><br><span class=\"line\">      &lt;a-button v-if=&quot;resultImageUrl&quot; type=&quot;primary&quot; :loading=&quot;uploadLoading&quot; @click=&quot;handleUpload&quot;&gt;</span><br><span class=\"line\">        åº”ç”¨ç»“æœ</span><br><span class=\"line\">      &lt;/a-button&gt;</span><br><span class=\"line\">    &lt;/a-flex&gt;</span><br><span class=\"line\">  &lt;/a-modal&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class=\"line\">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class=\"line\">import &#123;</span><br><span class=\"line\">  createPictureOutPaintingTaskUsingPost,</span><br><span class=\"line\">  getPictureOutPaintingTaskUsingGet,</span><br><span class=\"line\">&#125; from &#x27;../api/pictureController.ts&#x27;</span><br><span class=\"line\">import &#123; message &#125; from &#x27;ant-design-vue&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">interface Props &#123;</span><br><span class=\"line\">  picture?: string</span><br><span class=\"line\">  onSuccess?: (newPicture: string) =&gt; void</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const props = defineProps&lt;Props&gt;()</span><br><span class=\"line\"></span><br><span class=\"line\">const resultImageUrl = ref&lt;string&gt;(&#x27;&#x27;)</span><br><span class=\"line\"></span><br><span class=\"line\">// ä»»åŠ¡ id</span><br><span class=\"line\">const taskId = ref&lt;string | null&gt;()</span><br><span class=\"line\">/**</span><br><span class=\"line\"> * åˆ›å»ºä»»åŠ¡</span><br><span class=\"line\"> */</span><br><span class=\"line\">const createTask = async () =&gt; &#123;</span><br><span class=\"line\">  if (!props.picture) &#123;</span><br><span class=\"line\">    return</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  console.log(&#x27;åˆ›å»ºä»»åŠ¡&#x27;, props.picture);</span><br><span class=\"line\">  const res = await createPictureOutPaintingTaskUsingPost(&#123;</span><br><span class=\"line\">    url: props.picture,</span><br><span class=\"line\">    // æ ¹æ®éœ€è¦è®¾ç½®æ‰©å›¾å‚æ•°</span><br><span class=\"line\">    parameters: &#123;</span><br><span class=\"line\">      xScale: 2,</span><br><span class=\"line\">      yScale: 2,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  message.success(&#x27;åˆ›å»ºä»»åŠ¡æˆåŠŸï¼Œè¯·è€å¿ƒç­‰å¾…ï¼Œä¸è¦é€€å‡ºç•Œé¢&#x27;)</span><br><span class=\"line\">  taskId.value = res.data.output.taskId</span><br><span class=\"line\">  // å¼€å¯è½®è¯¢</span><br><span class=\"line\">  startPolling()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// è½®è¯¢å®šæ—¶å™¨</span><br><span class=\"line\">let pollingTimer: NodeJS.Timeout = null</span><br><span class=\"line\"></span><br><span class=\"line\">// å¼€å§‹è½®è¯¢</span><br><span class=\"line\">const startPolling = () =&gt; &#123;</span><br><span class=\"line\">  if (!taskId.value) &#123;</span><br><span class=\"line\">    return</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  pollingTimer = setInterval(async () =&gt; &#123;</span><br><span class=\"line\">    try &#123;</span><br><span class=\"line\">      const res = await getPictureOutPaintingTaskUsingGet(&#123;</span><br><span class=\"line\">        taskId: taskId.value,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">      console.log(res);</span><br><span class=\"line\">      const taskResult = res.data.output</span><br><span class=\"line\">      if (taskResult.taskStatus === &#x27;SUCCEEDED&#x27;) &#123;</span><br><span class=\"line\">        message.success(&#x27;æ‰©å›¾ä»»åŠ¡æ‰§è¡ŒæˆåŠŸ&#x27;)</span><br><span class=\"line\">        resultImageUrl.value = taskResult.outputImageUrl</span><br><span class=\"line\">        // æ¸…ç†è½®è¯¢</span><br><span class=\"line\">        clearPolling()</span><br><span class=\"line\">      &#125; else if (taskResult.taskStatus === &#x27;FAILED&#x27;) &#123;</span><br><span class=\"line\">        message.error(&#x27;æ‰©å›¾ä»»åŠ¡æ‰§è¡Œå¤±è´¥&#x27;)</span><br><span class=\"line\">        // æ¸…ç†è½®è¯¢</span><br><span class=\"line\">        clearPolling()</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; catch (error) &#123;</span><br><span class=\"line\">      console.error(&#x27;æ‰©å›¾ä»»åŠ¡è½®è¯¢å¤±è´¥&#x27;, error)</span><br><span class=\"line\">      message.error(&#x27;æ‰©å›¾ä»»åŠ¡è½®è¯¢å¤±è´¥ï¼Œ&#x27; + error.message)</span><br><span class=\"line\">      // æ¸…ç†è½®è¯¢</span><br><span class=\"line\">      clearPolling()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;, 3000) // æ¯ 3 ç§’è½®è¯¢ä¸€æ¬¡</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// æ¸…ç†è½®è¯¢</span><br><span class=\"line\">const clearPolling = () =&gt; &#123;</span><br><span class=\"line\">  if (pollingTimer) &#123;</span><br><span class=\"line\">    clearInterval(pollingTimer)</span><br><span class=\"line\">    pollingTimer = null</span><br><span class=\"line\">    taskId.value = null</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// æ˜¯å¦æ­£åœ¨ä¸Šä¼ </span><br><span class=\"line\">const uploadLoading = ref(false)</span><br><span class=\"line\">                                </span><br><span class=\"line\">// æ˜¯å¦å¯è§</span><br><span class=\"line\">const visible = ref(false)</span><br><span class=\"line\"></span><br><span class=\"line\">// æ‰“å¼€å¼¹çª—</span><br><span class=\"line\">const openModal = () =&gt; &#123;</span><br><span class=\"line\">  visible.value = true</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// å…³é—­å¼¹çª—</span><br><span class=\"line\">const closeModal = () =&gt; &#123;</span><br><span class=\"line\">  visible.value = false</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// æš´éœ²å‡½æ•°ç»™çˆ¶ç»„ä»¶</span><br><span class=\"line\">defineExpose(&#123;</span><br><span class=\"line\">  openModal,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">.image-out-painting &#123;</span><br><span class=\"line\">  text-align: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p><code>typings.d.ts</code></p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">declare</span> <span class=\"keyword\">namespace</span> <span class=\"title class_\">API</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">type</span> <span class=\"title class_\">PictureUploadRequest</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">fileUrl</span>?: <span class=\"built_in\">string</span></span><br><span class=\"line\">    <span class=\"attr\">id</span>?: <span class=\"built_in\">number</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">type</span> <span class=\"title class_\">BaseResponseCreateOutPaintingTaskResponse</span>_ = &#123;</span><br><span class=\"line\">    <span class=\"attr\">code</span>?: <span class=\"built_in\">number</span></span><br><span class=\"line\">    <span class=\"attr\">data</span>?: <span class=\"title class_\">CreateOutPaintingTaskResponse</span></span><br><span class=\"line\">    <span class=\"attr\">message</span>?: <span class=\"built_in\">string</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">type</span> <span class=\"title class_\">CreatePictureOutPaintingTaskRequest</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">parameters</span>?: <span class=\"title class_\">Parameters</span></span><br><span class=\"line\">    <span class=\"attr\">url</span>?: <span class=\"built_in\">string</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">type</span> getPictureOutPaintingTaskUsingGETParams = &#123;</span><br><span class=\"line\">    <span class=\"comment\">/** taskId */</span></span><br><span class=\"line\">    <span class=\"attr\">taskId</span>?: <span class=\"built_in\">string</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">type</span> <span class=\"title class_\">BaseResponseGetOutPaintingTaskResponse</span>_ = &#123;</span><br><span class=\"line\">    <span class=\"attr\">code</span>?: <span class=\"built_in\">number</span></span><br><span class=\"line\">    <span class=\"attr\">data</span>?: <span class=\"title class_\">GetOutPaintingTaskResponse</span></span><br><span class=\"line\">    <span class=\"attr\">message</span>?: <span class=\"built_in\">string</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>pictureController.ts</code></p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// @ts-ignore</span></span><br><span class=\"line\"><span class=\"comment\">/* eslint-disable */</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> request <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../request&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** createPictureOutPaintingTask POST /api/picture/out_painting/create_task */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">createPictureOutPaintingTaskUsingPost</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">body</span>: API.<span class=\"title class_\">CreatePictureOutPaintingTaskRequest</span>,</span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">options</span>?: &#123; [key: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span> &#125;</span></span><br><span class=\"line\"><span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> request&lt;<span class=\"variable constant_\">API</span>.<span class=\"property\">BaseResponseCreateOutPaintingTaskResponse_</span>&gt;(</span><br><span class=\"line\">    <span class=\"string\">&#x27;/picture/create_task&#x27;</span>,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;Content-Type&#x27;</span>: <span class=\"string\">&#x27;application/json&#x27;</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">data</span>: body,</span><br><span class=\"line\">      ...(options || &#123;&#125;),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/** getPictureOutPaintingTask GET /api/picture/out_painting/get_task */</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">getPictureOutPaintingTaskUsingGet</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"comment\">// å åŠ ç”Ÿæˆçš„Paramç±»å‹ (ébodyå‚æ•°swaggeré»˜è®¤æ²¡æœ‰ç”Ÿæˆå¯¹è±¡)</span></span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">params</span>: API.getPictureOutPaintingTaskUsingGETParams,</span></span><br><span class=\"line\"><span class=\"params\">  <span class=\"attr\">options</span>?: &#123; [key: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span> &#125;</span></span><br><span class=\"line\"><span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> request&lt;<span class=\"variable constant_\">API</span>.<span class=\"property\">BaseResponseGetOutPaintingTaskResponse_</span>&gt;(</span><br><span class=\"line\">    <span class=\"string\">&#x27;/picture/get_task&#x27;</span>,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">method</span>: <span class=\"string\">&#x27;GET&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">params</span>: &#123;</span><br><span class=\"line\">        ...params,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      ...(options || &#123;&#125;),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>request.ts</code></p>\n<figure class=\"highlight tsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">&quot;axios&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åŒºåˆ†å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">DEV_BASE_URL</span> = <span class=\"string\">&quot;http://localhost:8123&quot;</span>;</span><br><span class=\"line\"><span class=\"comment\">// const PROD_BASE_URL = &quot;http://81.69.229.63&quot;;</span></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»º Axios å®ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> myAxios = axios.<span class=\"title function_\">create</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">baseURL</span>: <span class=\"variable constant_\">DEV_BASE_URL</span>,</span><br><span class=\"line\">  <span class=\"attr\">timeout</span>: <span class=\"number\">10000</span>,</span><br><span class=\"line\">  <span class=\"attr\">withCredentials</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> myAxios;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ•ˆæœå±•ç¤º\"><a href=\"#æ•ˆæœå±•ç¤º\" class=\"headerlink\" title=\"æ•ˆæœå±•ç¤º\"></a>æ•ˆæœå±•ç¤º</h3><p><img src=\"C:/Users/a1798/Desktop/demo/image-20251207141542220.png\" alt=\"image-20251207141542220\"></p>\n<p><img src=\"C:/Users/a1798/Desktop/demo/image-20251207141552201.png\" alt=\"image-20251207141552201\"></p>\n<p><img src=\"/post/%E9%98%BF%E9%87%8C%E4%BA%91AI%E6%89%A9%E5%9B%BE/image-20251209093833324.png\" alt=\"image-20251209093833324\"></p>\n","feature":true,"text":"1ã€å®˜æ–¹ä»‹ç»é€šè¿‡é˜…è¯» å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°å®ƒæ˜¯æ”¯æŒ AI å›¾åƒç¼–è¾‘ä¸ç”ŸæˆåŠŸèƒ½çš„ï¼ŒåŒ…æ‹¬ AI æ‰©å›¾ï¼Œæ”¯æŒ HTTP è°ƒç”¨ï¼Œç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚ åœ¨ æ§åˆ¶å° ä¹Ÿèƒ½çœ‹åˆ°å¯¹åº”çš„å›¾...","permalink":"/post/é˜¿é‡Œäº‘AIæ‰©å›¾","photos":[],"count_time":{"symbolsCount":"21k","symbolsTime":"19 mins."},"categories":[{"name":"å¯¹è±¡å­˜å‚¨","slug":"å¯¹è±¡å­˜å‚¨","count":4,"path":"api/categories/å¯¹è±¡å­˜å‚¨.json"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":7,"path":"api/tags/SpringBoot.json"},{"name":"Java","slug":"Java","count":7,"path":"api/tags/Java.json"},{"name":"æ’ä»¶","slug":"æ’ä»¶","count":7,"path":"api/tags/æ’ä»¶.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%AE%98%E6%96%B9%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">1ã€å®˜æ–¹ä»‹ç»</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F\"><span class=\"toc-text\">2ã€è°ƒç”¨æ–¹å¼</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">åç«¯å¼€å‘</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#1%E3%80%81AI-%E6%89%A9%E5%9B%BE-API\"><span class=\"toc-text\">1ã€AI æ‰©å›¾ API</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#2%E3%80%81%E6%89%A9%E5%9B%BE%E6%9C%8D%E5%8A%A1\"><span class=\"toc-text\">2ã€æ‰©å›¾æœåŠ¡</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#3%E3%80%81%E6%89%A9%E5%9B%BE%E6%8E%A5%E5%8F%A3\"><span class=\"toc-text\">3ã€æ‰©å›¾æ¥å£</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91\"><span class=\"toc-text\">å‰ç«¯å¼€å‘</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA\"><span class=\"toc-text\">æ•ˆæœå±•ç¤º</span></a></li></ol></li></ol>","author":{"name":"Azer","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"<span style='font-size:30px;background:linear-gradient(90deg,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;'>æ€€æ°‘äº¦æœªå¯</span><span style='font-size:30px;'>ğŸ’•</span>","socials":{"github":"https://github.com/azer-2025","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_52541129?type=blog","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/1764589563?spm_id_from=333.1007.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/azzzer"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"Sa-Tokenæƒé™æ ¡éªŒ","uid":"0b114f94280493e69340137c35c865bf","slug":"Sa-Tokenæƒé™æ ¡éªŒ","date":"2025-12-12T10:12:47.000Z","updated":"2025-12-12T10:20:48.758Z","comments":true,"path":"api/articles/Sa-Tokenæƒé™æ ¡éªŒ.json","keywords":"VUEã€Pythonã€JAVA","cover":"/medias/satoken.png","text":" 1ã€è®¾è®¡æ€è·¯æ‰€è°“æƒé™è®¤è¯ï¼Œæ ¸å¿ƒé€»è¾‘å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªè´¦å·æ˜¯å¦æ‹¥æœ‰æŒ‡å®šæƒé™ï¼š æœ‰ï¼Œå°±è®©ä½ é€šè¿‡ã€‚ æ²¡æœ‰ï¼Ÿé‚£ä¹ˆç¦æ­¢è®¿é—®ï¼ æ·±å…¥åˆ°åº•å±‚æ•°æ®ä¸­ï¼Œå°±æ˜¯æ¯ä¸ªè´¦å·éƒ½ä¼šæ‹¥æœ‰ä¸€ç»„æƒé™ç ...","permalink":"/post/Sa-Tokenæƒé™æ ¡éªŒ","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"å¯¹è±¡å­˜å‚¨","slug":"å¯¹è±¡å­˜å‚¨","count":4,"path":"api/categories/å¯¹è±¡å­˜å‚¨.json"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":7,"path":"api/tags/SpringBoot.json"},{"name":"Java","slug":"Java","count":7,"path":"api/tags/Java.json"},{"name":"æƒé™","slug":"æƒé™","count":1,"path":"api/tags/æƒé™.json"}],"author":{"name":"Azer","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"<span style='font-size:30px;background:linear-gradient(90deg,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;'>æ€€æ°‘äº¦æœªå¯</span><span style='font-size:30px;'>ğŸ’•</span>","socials":{"github":"https://github.com/azer-2025","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_52541129?type=blog","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/1764589563?spm_id_from=333.1007.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/azzzer"}}}},"feature":true},"next_post":{"title":"vue-cropperæœ€ä½³å®è·µ","uid":"35d6f4133446b21f901ff8e01901f428","slug":"vue-cropperæœ€ä½³å®è·µ","date":"2025-12-05T05:47:29.000Z","updated":"2025-12-05T05:52:25.598Z","comments":true,"path":"api/articles/vue-cropperæœ€ä½³å®è·µ.json","keywords":"VUEã€Pythonã€JAVA","cover":"/medias/vue-cropper.png","text":"1ã€å›¾ç‰‡ç¼–è¾‘ç»„ä»¶å›¾ç‰‡ç¼–è¾‘æ˜¯ä¸ªæ¯”è¾ƒå¸¸è§çš„åŠŸèƒ½ï¼Œä¸€èˆ¬ä¼šæœ‰ç°æˆçš„åº“ vue-cropper ç»„ä»¶ã€‚ 1ï¼‰å¼•å…¥ç»„ä»¶ å‚è€ƒå®˜æ–¹æ–‡æ¡£å¼•å…¥ï¼Œæ³¨æ„è¦å¼•å…¥ Vue3 ç‰ˆæœ¬çš„ï¼š å®‰...","permalink":"/post/vue-cropperæœ€ä½³å®è·µ","photos":[],"count_time":{"symbolsCount":"9.9k","symbolsTime":"9 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":3,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"æ’ä»¶","slug":"æ’ä»¶","count":7,"path":"api/tags/æ’ä»¶.json"},{"name":"vue","slug":"vue","count":3,"path":"api/tags/vue.json"}],"author":{"name":"Azer","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"<span style='font-size:30px;background:linear-gradient(90deg,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;'>æ€€æ°‘äº¦æœªå¯</span><span style='font-size:30px;'>ğŸ’•</span>","socials":{"github":"https://github.com/azer-2025","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/weixin_52541129?type=blog","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/1764589563?spm_id_from=333.1007.0.0"},"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/azzzer"}}}},"feature":true}}