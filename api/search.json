[{"id":"74dcc5cfce20b2ecd28309464beb868c","title":"å¤§æ¨¡å‹çš„æ¥å…¥","content":"å¤§æ¨¡å‹çš„æ¥å…¥0.å¼•è¨€â€‹\t\tæœ€è¿‘åœ¨å­¦ä¹ aiå¤§æ¨¡å‹ç›¸å…³çš„æ¦‚å¿µï¼Œåœ¨ä¹‹å‰è¯´å®è¯æˆ‘æ˜¯ä¸€ç›´æ²¡å­¦è¿‡è¿™æ–¹é¢çš„ç›¸å…³çŸ¥è¯†ï¼Œåœ¨2022ã€2023å¹´å·¦å³çš„æ—¶å€™ï¼Œé‚£æ—¶å€™aiæ‰åˆšå¼€å§‹æµè¡Œï¼Œåœ¨è¿™ä¹‹å‰ï¼Œä¸»æ’­åšä»»ä½•å¼€å‘ç”šè‡³æ²¡æœ‰ç”¨åˆ°aiï¼Œç°åœ¨å¾€å›çœ‹æ„Ÿè§‰è‡ªå·±åƒä¸ª**ï¼Œä¹‹å‰åšçš„å‰ç«¯å’Œåç«¯ï¼Œåšçš„æœ€å¤šçš„å°±æ˜¯bç«™å­¦ä¹ ï¼Œç„¶åè¦ä¸€ä»½æºç ï¼Œå¤åˆ¶ç²˜è´´ï¼Œå¤åˆ¶ç²˜è´´ï¼Œä»€ä¹ˆæ€§èƒ½ä¼˜åŒ–ï¼Œè¯­è¨€å†™æ³•ï¼Œå®Œå…¨ä¸è€ƒè™‘ï¼Œå› ä¸ºæˆ‘è§‰å¾—åˆ«äººå†™å¾—ï¼Œå°±ç®—ä¸æ˜¯æœ€å¥½çš„ï¼Œä¹Ÿç®—æ˜¯ä¸ªä¼˜è§£ï¼Œåœ¨2023å†™æ¯•è®¾çš„æ—¶å€™ï¼Œç”šè‡³æ‰€æœ‰ä»£ç éƒ½æ˜¯æ‰‹æ’¸çš„ï¼Œå“ªä¸ªä¸ä¼šç›´æ¥å¼€å§‹ä¸Šç½‘æœç´¢åˆ«äººçš„å†™æ³•ï¼Œåœ¨24å¹´å·¦å³å°±å·²ç»æœ‰äº†aiå¤§æ¨¡å‹ç›¸å…³çš„æ¦‚å¿µæ¶Œç°ï¼Œå½“æ—¶æˆ‘è¿˜æ˜¯è§‰å¾—ï¼Œè¿™ç©æ„è·Ÿjavaæ²¡æœ‰ä¸€ç‚¹å…³ç³»ï¼Œéƒ½æ˜¯pythonè´§ï¼Œä½†ç°åœ¨æˆ‘å·²ç»å¼€å§‹äº†äººç”Ÿçš„æ–°çš„ä¸€ä¸ªé˜¶æ®µï¼Œå½“æˆ‘åœ¨å¼€ä¼šçš„æ—¶å€™ï¼Œå¬åˆ°è®¸å¤šæˆ‘ä»æ¥æ²¡å¬è¿‡çš„æ¦‚å¿µï¼Œæ²¡å­¦è¿‡çš„æ–°å¥‡è´§ï¼Œæˆ‘é‚£æœ¬ç§‘ä¸å¯ä¸€ä¸–çš„æ€åº¦è¢«æ‰“ç¢äº†ï¼Œæˆ‘å¼€å§‹åœ¨ç½‘ä¸Šæœç´¢å„ç§ç›¸å…³æ¦‚å¿µï¼Œå½“ç„¶è¿˜æ˜¯ä¸€çªä¸é€šï¼Œæˆ‘å’Œå‡ ä¸ªå­¦é•¿åšäº†ç‚¹ç®€å•çš„äº¤æµï¼Œæ¯”å¦‚æˆ‘çœ‹åˆ°äº†ä¸€ä¸ªå¯ä»¥çˆ¬å–GitHubè´¦å·çš„åŠŸèƒ½ï¼Œå±…ç„¶æ˜¯aiç”Ÿæˆçš„pythonæ–‡ä»¶çˆ¬åˆ°javaçš„é¡¹ç›®é‡Œï¼Œä¹Ÿé—®äº†ä»–ä»¬å¾€åçš„å¤§åŠ¿æ‰€è¶‹ï¼Œæ˜¯å…³äºå¤§æ¨¡å‹æ–¹é¢çš„ï¼Œæˆ‘æ‰çŸ¥é“ï¼Œè¿™ç©æ„å·²ç»æœ‰äº†æ”¯æŒjavaçš„ç”Ÿæ€æ¡†æ¶ï¼Œæ‰€ä»¥å½“æˆ‘çŸ¥é“æˆ‘åˆè¦å­¦åˆ°æ–°ä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘æ˜¯éå¸¸å…´å¥‹çš„ï¼Œåœ¨æˆ‘çœ‹åˆ°ä¸€äº›ç›¸å…³çš„è¯¾æœ‰ç›¸å…³çŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œè¿™ä¸ªå†…å®¹é‡çœ‹äº†ä¸€çœ¼ä¸æ˜¯ä¸€èˆ¬çš„å¤§ï¼Œäºæ˜¯æ‰“ç®—è‡ªå·±ä»¥è®°å½•çš„æ–¹å¼å†™ä¸€ä¸‹è‡ªå·±æœ€è¿‘çš„æ‰€å­¦ï¼Œå› ä¸ºå†…å®¹é‡å®åœ¨æ˜¯å¤šï¼Œæ„Ÿè§‰å¾€åä¼šå†™å¾ˆå¤šç¯‡ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå› ä¸ºaiæ›´æ–°çš„å®åœ¨æ˜¯å¤ªå¿«äº†ï¼Œæ¥ä¸‹æ¥å°±å…ˆå¼€å§‹æœ€åŸºç¡€çš„ä¸€ç« \nâ€‹\t\tå¤§æ¨¡å‹çš„æ¥å…¥ç®—æ˜¯å…¥é—¨äº†ï¼Œå‰é¢çš„éƒ¨åˆ†ä¸€å®šè¦æ•²ä¸€æ•²ï¼Œè®°å¾—ç‰¢å›ºï¼Œå› ä¸ºå°±ç®—å†æ€ä¹ˆæ›´æ–°ï¼Œåº•å±‚é€»è¾‘æ˜¯ä¸ä¼šå˜çš„ï¼Œç†è§£çš„æ˜¯ä»–çš„æ•´ä¸ªæ¡†æ¶é€»è¾‘ï¼Œå‰©ä¸‹çš„éƒ½å¥½è¯´ã€‚\n1.åç«¯é¡¹ç›®åˆå§‹åŒ–ç¯å¢ƒå‡†å¤‡å®‰è£…çš„ JDK ç‰ˆæœ¬å¿…é¡»æ˜¯ 17 æˆ– 21ï¼Œ*** ä¸èƒ½é€‰æ‹©å…¶ä»–ç‰ˆæœ¬ï¼*** å› ä¸ºé¡¹ç›®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Spring Boot 3 å’Œ Spring AI å¼€å‘æ¡†æ¶ã€‚\næ¨èä½¿ç”¨ 21 ç‰ˆæœ¬ï¼Œå› ä¸ºæ”¯æŒè™šæ‹Ÿçº¿ç¨‹è¿™ä¸ªç‹ç‚¸åŠŸèƒ½ã€‚\nå¯å‚è€ƒè§†é¢‘å®‰è£… JDKï¼šhttps://www.bilibili.com/video/BV14SUNYREv8\næ–°å»ºé¡¹ç›®åœ¨ IDEA ä¸­æ–°å»ºé¡¹ç›®ï¼Œé€‰æ‹© Spring Initializr æ¨¡æ¿ï¼Œæ³¨æ„éœ€è¦ç¡®ä¿ Server URL ä¸º https://start.spring.io/ã€‚\né…ç½®å¦‚å›¾ï¼ŒJava ç‰ˆæœ¬é€‰æ‹© 21ï¼š\n\næ•´åˆä¾èµ–12345678910111213141516&lt;dependency&gt;    &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;    &lt;artifactId&gt;knife4j-openapi3-jakarta-spring-boot-starter&lt;/artifactId&gt;    &lt;version&gt;4.4.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;cn.hutool&lt;/groupId&gt;    &lt;artifactId&gt;hutool-all&lt;/artifactId&gt;    &lt;version&gt;5.8.37&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;    &lt;artifactId&gt;lombok&lt;/artifactId&gt;    &lt;version&gt;1.18.36&lt;/version&gt;    &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt;\n\nåœ¨application.ymlæ–‡ä»¶é‡Œé¢è¿½åŠ ç›¸å…³é…ç½®\n123456789101112131415161718192021222324spring:  application:    name: azer-allserver:  port: 8123  servlet:    context-path: /apispringdoc:  swagger-ui:    path: /swagger-ui.html    tags-sorter: alpha    operations-sorter: alpha  api-docs:    path: /v3/api-docs  group-configs:    - group: &#x27;default&#x27;      paths-to-match: &#x27;/**&#x27;      packages-to-scan: com.azer.azerall.controllerknife4j:  enable: true  setting:    language: zh_cn\n\n2.SDKæ¥å…¥SDKï¼ˆè½¯â ä»¶å¼€å‘å·¥å…·åŒ…ï¼‰æ˜¯å®˜â€Œæ–¹æä¾›çš„æœ€ç›´æ¥çš„é›†æˆæ–¹å¼ï¼Œé€šå¸¸æä¾›äº†â€å®Œå–„çš„ç±»å‹æ”¯æŒå’Œé”™è¯¯â€Œå¤„ç†æœºåˆ¶ã€‚\n1ï¼‰é¦–å…ˆéœ€è¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å®‰è£… SDKï¼šå®‰è£… SDK å®˜æ–¹æŒ‡å—\nåœ¨é€‰æ‹© SDK ç‰ˆæœ¬æ—¶ï¼Œå»ºè®®åœ¨ Maven ä»“åº“æŸ¥çœ‹æœ€æ–°çš„ç‰ˆæœ¬å·ï¼šMaven ä¸­å¤®ä»“åº“ç‰ˆæœ¬ä¿¡æ¯\nåœ¨ pom.xml ä¸­å¼•å…¥ä¾èµ–ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;    &lt;artifactId&gt;dashscope-sdk-java&lt;/artifactId&gt;    &lt;version&gt;2.21.15&lt;/version&gt;&lt;/dependency&gt;\n\n2ï¼‰å…ˆåœ¨ç™¾ç‚¼å¹³å°ç”³è¯·ä¸€ä¸ª API Keyï¼Œæ³¨æ„ä¸è¦æ³„éœ²ï¼š\n\n3ï¼‰é¡¹ç›®ä¸­æ–°å»º demo.invoke åŒ…ï¼Œé›†ä¸­å­˜æ”¾è°ƒç”¨ AI å¤§æ¨¡å‹çš„ç¤ºä¾‹ä»£ç ã€‚\nå…·ä½“çš„ä»£ç ç¤ºä¾‹å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ é€šè¿‡ API è°ƒç”¨é€šä¹‰åƒé—®\nä¸ºäº†å®‰å…¨ç®¡â ç† API å¯†é’¥ï¼Œâ€Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ¥å£ç±»æ¥å­˜å‚¨å¯†é’¥ä¿¡æ¯ï¼ˆåœ¨â€å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåº”â€Œä½¿ç”¨é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ï¼‰ï¼š\n1234public interface TestApiKey &#123;    String API_KEY = &quot;ä½ çš„ API Key&quot;;&#125;\n\nä½¿ç”¨ SDK è°ƒç”¨æ¨¡å‹çš„å®Œæ•´ç¤ºä¾‹ä»£ç ï¼š\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import java.util.Arrays;import java.lang.System;import com.alibaba.dashscope.aigc.generation.Generation;import com.alibaba.dashscope.aigc.generation.GenerationParam;import com.alibaba.dashscope.aigc.generation.GenerationResult;import com.alibaba.dashscope.common.Message;import com.alibaba.dashscope.common.Role;import com.alibaba.dashscope.exception.ApiException;import com.alibaba.dashscope.exception.InputRequiredException;import com.alibaba.dashscope.exception.NoApiKeyException;import com.alibaba.dashscope.utils.JsonUtils;public class SdkAiInvoke &#123;    public static GenerationResult callWithMessage() throws ApiException, NoApiKeyException, InputRequiredException &#123;        Generation gen = new Generation();        Message systemMsg = Message.builder()                .role(Role.SYSTEM.getValue())                .content(&quot;You are a helpful assistant.&quot;)                .build();        Message userMsg = Message.builder()                .role(Role.USER.getValue())                .content(&quot;ä½ æ˜¯è°ï¼Ÿ&quot;)                .build();        GenerationParam param = GenerationParam.builder()                                .apiKey(TestApiKey.API_KEY)                                .model(&quot;qwen-plus&quot;)                .messages(Arrays.asList(systemMsg, userMsg))                .resultFormat(GenerationParam.ResultFormat.MESSAGE)                .build();        return gen.call(param);    &#125;    public static void main(String[] args) &#123;        try &#123;            GenerationResult result = callWithMessage();            System.out.println(JsonUtils.toJson(result));        &#125; catch (ApiException | NoApiKeyException | InputRequiredException e) &#123;                        System.err.println(&quot;An error occurred while calling the generation service: &quot; + e.getMessage());        &#125;        System.exit(0);    &#125;&#125;\n\n4ï¼‰è¿è¡Œé¡¹ç›®ï¼ŒæˆåŠŸçœ‹åˆ° AI çš„å›å¤ï¼š\n\n3ã€Spring AISpring AI æ˜¯ Spring ç”Ÿæ€ç³»ç»Ÿçš„æ–°æˆå‘˜ï¼Œæ—¨åœ¨ç®€åŒ– AI åŠŸèƒ½ä¸ Spring åº”ç”¨çš„é›†æˆã€‚Spring AI é€šè¿‡æä¾›ç»Ÿä¸€æ¥å£ã€æ”¯æŒé›†æˆå¤šç§ AI æœåŠ¡æä¾›å•†å’Œæ¨¡å‹ç±»å‹ã€å„ç§ AI å¼€å‘å¸¸ç”¨çš„ç‰¹æ€§ï¼ˆæ¯”å¦‚ RAG çŸ¥è¯†åº“ã€Tools å·¥å…·è°ƒç”¨å’Œ MCP æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰ï¼Œç®€åŒ–äº† AI åº”ç”¨å¼€å‘ä»£ç ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚\n\nSprinâ g AI çš„æ–‡æ¡£å†™â€Œå¾—è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°æ˜“æ‡‚çš„\nSpring AI çš„æ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\n\nè·¨ AI ä¾›åº”å•†çš„å¯ç§»æ¤ API æ”¯æŒï¼šé€‚ç”¨äºèŠå¤©ã€æ–‡æœ¬è½¬å›¾åƒå’ŒåµŒå…¥æ¨¡å‹ï¼ŒåŒæ—¶æ”¯æŒåŒæ­¥å’Œæµå¼ API é€‰é¡¹ï¼Œå¹¶å¯è®¿é—®ç‰¹å®šäºæ¨¡å‹çš„åŠŸèƒ½ã€‚\næ”¯æŒæ‰€æœ‰ä¸»æµ AI æ¨¡å‹ä¾›åº”å•†ï¼šå¦‚ Anthropicã€OpenAIã€å¾®è½¯ã€äºšé©¬é€Šã€è°·æ­Œå’Œ Ollamaï¼Œæ”¯æŒçš„æ¨¡å‹ç±»å‹åŒ…æ‹¬ï¼šèŠå¤©è¡¥å…¨ã€åµŒå…¥ã€æ–‡æœ¬è½¬å›¾åƒã€éŸ³é¢‘è½¬å½•ã€æ–‡æœ¬è½¬è¯­éŸ³\nç»“æ„åŒ–è¾“å‡ºï¼šå°† AI æ¨¡å‹è¾“å‡ºæ˜ å°„åˆ° POJOï¼ˆæ™®é€š Java å¯¹è±¡ï¼‰ã€‚\næ”¯æŒæ‰€æœ‰ä¸»æµå‘é‡æ•°æ®åº“ï¼šå¦‚ Apache Cassandraã€Azure Cosmos DBã€Azure Vector Searchã€Chromaã€Elasticsearchã€GemFireã€MariaDBã€Milvusã€MongoDB Atlasã€Neo4jã€OpenSearchã€Oracleã€PostgreSQL&#x2F;PGVectorã€PineConeã€Qdrantã€Redisã€SAP Hanaã€Typesense å’Œ Weaviateã€‚\nè·¨å‘é‡å­˜å‚¨ä¾›åº”å•†çš„å¯ç§»æ¤ APIï¼šåŒ…æ‹¬æ–°é¢–çš„ç±» SQL å…ƒæ•°æ®è¿‡æ»¤ APIã€‚\nå·¥å…· &#x2F; å‡½æ•°è°ƒç”¨ï¼šå…è®¸æ¨¡å‹è¯·æ±‚æ‰§è¡Œå®¢æˆ·ç«¯å·¥å…·å’Œå‡½æ•°ï¼Œä»è€Œæ ¹æ®éœ€è¦è®¿é—®å¿…è¦çš„å®æ—¶ä¿¡æ¯å¹¶é‡‡å–è¡ŒåŠ¨ã€‚\nå¯è§‚æµ‹æ€§ï¼šæä¾›ä¸ AI ç›¸å…³æ“ä½œçš„ç›‘æ§ä¿¡æ¯ã€‚\næ–‡æ¡£ ETL æ¡†æ¶ï¼šé€‚ç”¨äºæ•°æ®å·¥ç¨‹åœºæ™¯ã€‚\nAI æ¨¡å‹è¯„ä¼°å·¥å…·ï¼šå¸®åŠ©è¯„ä¼°ç”Ÿæˆå†…å®¹å¹¶é˜²èŒƒå¹»è§‰å“åº”ã€‚\nSpring Boot è‡ªåŠ¨é…ç½®å’Œå¯åŠ¨å™¨ï¼šé€‚ç”¨äº AI æ¨¡å‹å’Œå‘é‡å­˜å‚¨ã€‚\nChatClient APIï¼šä¸ AI èŠå¤©æ¨¡å‹é€šä¿¡çš„æµå¼ APIï¼Œç”¨æ³•ç±»ä¼¼äº WebClient å’Œ RestClient APIã€‚\nAdvisors APIï¼šå°è£…å¸¸è§çš„ç”Ÿæˆå¼ AI æ¨¡å¼ï¼Œè½¬æ¢å‘é€è‡³è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å’Œä»è¯­è¨€æ¨¡å‹è¿”å›çš„æ•°æ®ï¼Œå¹¶æä¾›è·¨å„ç§æ¨¡å‹å’Œç”¨ä¾‹çš„å¯ç§»æ¤æ€§ã€‚\næ”¯æŒèŠå¤©å¯¹è¯è®°å¿†å’Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ã€‚\n\nSpring AI é»˜è®¤æ²¡æœ‰æ”¯æŒæ‰€æœ‰çš„å¤§æ¨¡å‹ï¼ˆå°¤å…¶æ˜¯å›½äº§çš„ï¼‰ï¼Œæ›´å¤šçš„æ˜¯æ”¯æŒå…¼å®¹ OpenAI API çš„å¤§æ¨¡å‹çš„é›†æˆï¼Œå‚è€ƒ å®˜æ–¹çš„æ¨¡å‹å¯¹æ¯”ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦è°ƒç”¨é˜¿é‡Œç³»å¤§æ¨¡å‹ï¼ˆæ¯”å¦‚é€šä¹‰åƒé—®ï¼‰ï¼Œæ¨èç›´æ¥ä½¿ç”¨é˜¿é‡Œè‡ªä¸»å°è£…çš„ Spring AI Alibaba æ¡†æ¶ï¼Œå®ƒä¸ä»…èƒ½ç›´æ¥ç»§æ‰¿é˜¿é‡Œç³»å¤§æ¨¡å‹ï¼Œç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ä¸æ ‡å‡†çš„ Spring AI ä¿æŒå…¼å®¹ã€‚\nå¯ä»¥å‚è€ƒä¸‹åˆ—å®˜æ–¹æ–‡æ¡£ï¼Œæ¥è·‘é€šè°ƒç”¨å¤§æ¨¡å‹çš„æµç¨‹ï¼š\n\nçµç§¯æ¨¡å‹æ¥å…¥æŒ‡å—\né€šä¹‰åƒé—®æ¥å…¥æŒ‡å—\n\n1ï¼‰å¼•å…¥ä¾èµ–ï¼š\n12345&lt;dependency&gt;    &lt;groupId&gt;com.alibaba.cloud.ai&lt;/groupId&gt;    &lt;artifactId&gt;spring-ai-alibaba-starter&lt;/artifactId&gt;    &lt;version&gt;1.0.0-M6.1&lt;/version&gt;&lt;/dependency&gt;\n\nå®˜æ–¹æé†’ï¼šç”±äº spring-ai ç›¸å…³ä¾èµ–åŒ…è¿˜æ²¡æœ‰å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“ï¼Œå¦‚å‡ºç° spring-ai-core ç­‰ç›¸å…³ä¾èµ–è§£æé—®é¢˜ï¼Œè¯·åœ¨é¡¹ç›®çš„ pom.xml ä¾èµ–ä¸­åŠ å…¥å¦‚ä¸‹ä»“åº“é…ç½®ã€‚\n12345678910&lt;repositories&gt;  &lt;repository&gt;    &lt;id&gt;spring-milestones&lt;/id&gt;    &lt;name&gt;Spring Milestones&lt;/name&gt;    &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;    &lt;snapshots&gt;      &lt;enabled&gt;false&lt;/enabled&gt;    &lt;/snapshots&gt;  &lt;/repository&gt;&lt;/repositories&gt;\n\n2ï¼‰ç¼–å†™é…ç½®ï¼š\n123456789spring:  application:    name: spring-ai-alibaba-qwq-chat-client-example  ai:    dashscope:      api-key: $&#123;AI_DASHSCOPE_API_KEY&#125;      chat:        options:          model: qwen-plus\n\n3ï¼‰ç¼–å†™ç¤ºä¾‹ä»£ç ï¼Œæ³¨æ„è¦æ³¨å…¥ dashscopeChatModelï¼š\n1234567891011121314@Componentpublic class SpringAiAiInvoke implements CommandLineRunner &#123;    @Resource    private ChatModel dashscopeChatModel;    @Override    public void run(String... args) throws Exception &#123;        AssistantMessage output = dashscopeChatModel.call(new Prompt(&quot;ä½ å¥½ï¼Œæˆ‘æ˜¯é±¼çš®&quot;))                .getResult()                .getOutput();        System.out.println(output.getText());    &#125;&#125;\n\nä¸Šè¿°ä»£ç å®ç°äº†Câ ommandLineRunneræ¥â€Œå£ï¼Œæˆ‘ä»¬å¯åŠ¨ Spring Boot é¡¹ç›®æ—¶ï¼Œä¼šè‡ªåŠ¨æ³¨å…¥å¤§æ¨¡å‹ Chatâ€Model ä¾èµ–ï¼Œå¹¶ä¸”å•æ¬¡æ‰§è¡Œè¯¥ç±»çš„â€Œ run æ–¹æ³•ï¼Œè¾¾åˆ°æµ‹è¯•çš„æ•ˆæœã€‚\nğŸ’¡ ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬æ˜¯é€šâ è¿‡ ChatModel å¯¹è±¡è°ƒç”¨å¤§æ¨¡å‹ï¼Œé€‚åˆç®€å•â€Œçš„å¯¹è¯åœºæ™¯ã€‚é™¤äº†è¿™ç§æ–¹å¼å¤–ï¼ŒSpring AI è¿˜æä¾›äº†ChatClient è°ƒç”¨æ–¹å¼ï¼Œæä¾›æ›´â€å¤šé«˜çº§åŠŸèƒ½ï¼ˆæ¯”å¦‚ä¼šè¯è®°å¿†ï¼‰ï¼Œé€‚åˆå¤æ‚åœºæ™¯ï¼Œåœ¨åç»­â€Œ AI åº”ç”¨å¼€å‘ç« èŠ‚ä¸­ä¼šè¯¦ç»†ä»‹ç»ã€‚\n4ã€Httpâ€‹\t\tä¸æ˜¯å…³é”®ä¸å¤šèµ˜è¿°\n5ã€LangChain4jâ€‹\t\tä¸æ˜¯å…³é”®ä¸å¤šèµ˜è¿°\n6ã€æ¥å…¥æ–¹å¼å¯¹æ¯”ä»¥ä¸‹æ˜¯ 4â  ç§ AI å¤§æ¨¡å‹æ¥â€Œå…¥æ–¹å¼çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”ï¼šâ€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€‚â€â€‚â€‚â€‚â€‚â€‚â€‚â€‰â€‚â€‰â€‚â€Œâ€‚â€‚â€‚â€‚â€‚â€‰â€‚â€‰â€‰â€‚â€‰â€‰\n\n\n\næ¥å…¥æ–¹å¼\nä¼˜ç‚¹\nç¼ºç‚¹\né€‚ç”¨åœºæ™¯\n\n\n\nSDK æ¥å…¥\nâ€¢ ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥ â€¢ å®Œå–„çš„é”™è¯¯å¤„ç† â€¢ é€šå¸¸æœ‰è¯¦ç»†æ–‡æ¡£ â€¢ æ€§èƒ½ä¼˜åŒ–å¥½\nâ€¢ ä¾èµ–ç‰¹å®šç‰ˆæœ¬ â€¢ å¯èƒ½å¢åŠ é¡¹ç›®ä½“ç§¯ â€¢ è¯­è¨€é™åˆ¶\nâ€¢ éœ€è¦æ·±åº¦é›†æˆ â€¢ å•ä¸€æ¨¡å‹æä¾›å•† â€¢ å¯¹æ€§èƒ½è¦æ±‚é«˜\n\n\nHTTP æ¥å…¥\nâ€¢ æ— è¯­è¨€é™åˆ¶ â€¢ ä¸å¢åŠ é¢å¤–ä¾èµ– â€¢ çµæ´»æ€§é«˜ â \nâ€¢ éœ€è¦æ‰‹åŠ¨å¤„ç†é”™è¯¯ â€¢ åºåˆ—åŒ– &#x2F; ååºåˆ—åŒ–å¤æ‚ â€¢ ä»£ç å†—é•¿\nâ€¢ SDK ä¸æ”¯æŒçš„è¯­è¨€ â€¢ ç®€å•åŸå‹éªŒè¯ â€¢ ä¸´æ—¶æ€§é›†æˆ\n\n\nSpringâ€Œ AI\nâ€¢ ç»Ÿä¸€çš„æŠ½è±¡æ¥å£ â€¢ æ˜“äºåˆ‡æ¢æ¨¡å‹æä¾›å•† â€¢ ä¸ Spring ç”Ÿæ€å®Œç¾èåˆ â€¢ æä¾›é«˜çº§åŠŸèƒ½\nâ€¢ å¢åŠ é¢å¤–æŠ½è±¡å±‚ â€¢ å¯èƒ½ä¸æ”¯æŒç‰¹å®šæ¨¡å‹çš„ç‰¹æ€§ â€¢ ç‰ˆæœ¬è¿˜åœ¨å¿«é€Ÿè¿­ä»£\nâ€¢ Spring åº”ç”¨ â€¢ éœ€è¦æ”¯æŒå¤šç§æ¨¡å‹ â€¢ éœ€è¦é«˜çº§ AI åŠŸèƒ½\n\n\nLangChain4j\nâ€ â€¢ æä¾›å®Œæ•´çš„ AI åº”ç”¨å·¥å…·é“¾ â€¢ æ”¯æŒå¤æ‚å·¥ä½œæµ â€¢ ä¸°å¯Œçš„ç»„ä»¶å’Œå·¥å…· â€¢ é€‚åˆæ„å»º AI ä»£ç†\nâ€¢ å­¦ä¹ æ›²çº¿è¾ƒé™¡ â€¢ æ–‡æ¡£ç›¸å¯¹è¾ƒå°‘ â€¢ æŠ½â€Œè±¡å¯èƒ½å¼•å…¥æ€§èƒ½å¼€é”€\nâ€¢ æ„å»ºå¤æ‚ AI åº”ç”¨ â€¢ éœ€è¦é“¾å¼æ“ä½œ â€¢ RAG åº”ç”¨å¼€å‘\n\n\nä¸ªäººæ›´æ¨èé€‰æ‹© Springâ  AIï¼Œä¸€æ–¹é¢æ˜¯å®ƒå±äº Spring ç”Ÿæ€ï¼Œæ›´ä¸»æµï¼›å¦â€Œä¸€æ–¹é¢æ˜¯å®ƒç®€å•æ˜“ç”¨ã€èµ„æºæ›´å¤šï¼Œæ›´åˆ©äºå­¦ä¹ ï¼Œä¹Ÿèƒ½æ»¡è¶³æˆ‘ä»¬ç»å¤§å¤šæ•° AI é¡¹ç›®çš„å¼€å‘éœ€æ±‚ã€‚å› æ­¤æœ¬é¡¹ç›®çš„åç»­æ•™ç¨‹ï¼Œâ€ä¹Ÿä¼šä»¥ Spring AI ä¸ºä¸»ã€‚å­¦ä¼šä¸€ä¸ª AI å¼€å‘â€Œæ¡†æ¶åï¼Œå…¶ä»–æ¡†æ¶å­¦èµ·æ¥éƒ½æ˜¯å¦‚é±¼å¾—æ°´ã€‚\nğŸ’¡ æ— è®ºâ é€‰æ‹©å“ªç§æ¥å…¥æ–¹å¼ï¼Œâ€Œéƒ½å»ºè®®å…ˆä½¿ç”¨ç®€å•çš„æµ‹è¯•æ¡ˆä¾‹éªŒè¯æ¥å…¥æ˜¯â€å¦æˆåŠŸï¼Œç„¶åå†è¿›è¡Œâ€Œæ›´å¤æ‚çš„åŠŸèƒ½å¼€å‘ã€‚\n","slug":"å¤§æ¨¡å‹çš„æ¥å…¥","date":"2025-11-05T01:14:09.000Z","categories_index":"SpringBoot,Spring AI","tags_index":"Spring AI,å¤§æ¨¡å‹,AI","author_index":"Azer"},{"id":"cb0a546da11a61bd6ebc29d48c4b66f3","title":"åŸºäºSpringAIå’ŒOllamaå¼€å‘","content":"åŸºäºSpringAIå’ŒOllamaå¼€å‘deepseekå®¶åº­åŒ»ç”Ÿ1.Ollamaçš„å®‰è£…\nè¿›å…¥ollamaå®˜ç½‘ç„¶åæ ¹æ®è‡ªå·±çš„æ“ä½œç³»ç»Ÿæ¥ä¸‹è½½ollama\nä¸‹è½½å®Œæˆååœ¨æœ¬æœºæµ‹è¯•ä¸€ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸ\n\næ˜¾ç¤ºè¿™æ ·å°±è¯´æ˜å·²ç»å®‰è£…æˆåŠŸäº†\n2.ollamaæ¨¡å‹é€‰æ‹©\nåœ¨ollamaå®˜ç½‘ç‚¹å‡»Modelsè¿›å…¥æ¨¡å‹é€‰æ‹©é¡µé¢ï¼Œéšä¾¿é€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œå› ä¸ºæœ¬äººæ˜¯æ ¹æ®è§†é¢‘å­¦ä¹ ï¼Œæ‰€ä»¥ç›´æ¥é€‰æ‹©äº†deepseek-r1æ¨¡å‹\nè¿™é‡Œçš„sizeæ ¹æ®è‡ªå·±ç”µè„‘çš„GPUå¤§å°æ¥é€‰æ‹©å°±å¯ä»¥\nç›´æ¥å°†å‘½ä»¤ç²˜è´´åˆ°å‘½ä»¤è¡Œé‡Œ\n1ollama run â€œè‡ªå·±é€‰æ‹©çš„æ¨¡å‹â€\n\n\n\næ˜¾ç¤ºè¿™æ ·å°±ä¸‹è½½æˆåŠŸ\n3.IDEAé…ç½®SpringAI\nå¦‚å›¾æ‰€é€‰å°±å¯ä»¥ï¼ŒJAVAé…ç½®MAVEN,JDKé€‰æ‹©21\næ‰“å¼€é¡¹ç›®ååœ¨pom.xmlé‡Œé¢\nç²˜è´´ä¸‹åˆ—ä»£ç å¼•å…¥ä¾èµ–\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;parent&gt;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;        &lt;version&gt;3.3.8&lt;/version&gt;        &lt;relativePath/&gt;    &lt;/parent&gt;    &lt;dependencies&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;io.springboot.ai&lt;/groupId&gt;            &lt;artifactId&gt;spring-ai-ollama&lt;/artifactId&gt;            &lt;version&gt;1.0.3&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;io.springboot.ai&lt;/groupId&gt;            &lt;artifactId&gt;spring-ai-ollama-spring-boot-starter&lt;/artifactId&gt;            &lt;version&gt;1.0.3&lt;/version&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;        &lt;/dependency&gt;        &lt;dependency&gt;            &lt;groupId&gt;mysql&lt;/groupId&gt;            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;            &lt;version&gt;8.0.33&lt;/version&gt;        &lt;/dependency&gt;    &lt;/dependencies&gt;\n\næ–°å»ºSSEServerçš„ç±»\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138import lombok.extern.slf4j.Slf4j;import org.springframework.util.CollectionUtils;import org.springframework.web.servlet.mvc.method.annotation.SseEmitter;import java.util.Map;import java.util.concurrent.ConcurrentHashMap;import java.util.concurrent.atomic.AtomicInteger;import java.util.function.Consumer;/** * @PROJECT_NAME deepseek-doctor * @Author  * @DESCRIPTION * @Date  */@Slf4jpublic class SSEServer &#123;    private  static Map&lt;String, SseEmitter&gt; sseClient=new ConcurrentHashMap&lt;&gt;();    private static AtomicInteger onlineCounts=new AtomicInteger(0);    public static SseEmitter connect(String userId)&#123;        //è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œ0ä»£è¡¨æ°¸ä¸è¿‡æœŸï¼Œé»˜è®¤30ç§’ï¼Œè¶…æ—¶åä¼šæŠ›å‡ºå¼‚å¸¸        SseEmitter sseEmitter=new SseEmitter(0L);        //æ³¨å†ŒSSEçš„å›è°ƒæ–¹æ³•        sseEmitter.onCompletion(completionCallback(userId));        sseEmitter.onError(errorCallback(userId));        sseEmitter.onTimeout(timeoutCallback(userId));        sseClient.put(userId,sseEmitter);        log.info(&quot;ç”¨æˆ·è¿æ¥æˆåŠŸï¼ŒuserId:&#123;&#125;&quot;,userId);        onlineCounts.getAndIncrement();        return sseEmitter;    &#125;    private static Runnable timeoutCallback(String userId) &#123;        return () -&gt; &#123;            log.info(&quot;ç”¨æˆ·è¿æ¥è¶…æ—¶ï¼ŒuserId:&#123;&#125;&quot;,userId);            removeConnection(userId);        &#125;;    &#125;    private static Consumer&lt;Throwable&gt; errorCallback(String userId) &#123;        return Throwable -&gt; &#123;            log.info(&quot;ç”¨æˆ·è¿æ¥å¼‚å¸¸ï¼ŒuserId:&#123;&#125;&quot;,userId);            removeConnection(userId);        &#125;;    &#125;    /**     * @Description SSEè¿æ¥å®Œæˆåçš„å›è°ƒæ–¹æ³•     * @param userId     * @return  Runnable     */    private static Runnable completionCallback(String userId) &#123;        return () -&gt; &#123;            log.info(&quot;ç”¨æˆ·è¿æ¥æ–­å¼€ï¼ŒuserId:&#123;&#125;&quot;,userId);            removeConnection(userId);        &#125;;    &#125;    private static void removeConnection(String userId) &#123;        sseClient.remove(userId);        log.info(&quot;ç”¨æˆ·è¿æ¥å·²ç§»é™¤ï¼ŒuserId:&#123;&#125;&quot;,userId);        onlineCounts.getAndDecrement();    &#125;    public static int getOnlineCounts() &#123;        return onlineCounts.intValue();    &#125;    /**     * @Description å‘é€å•æ¡æ¶ˆæ¯     * @param userId     * @param message     * @param msgType     */    public static void sendMessage(String userId, String message,SSEMsgType msgType) &#123;        if(CollectionUtils.isEmpty(sseClient))&#123;            return;        &#125;        if(sseClient.containsKey(userId))&#123;            SseEmitter sseEmitter = sseClient.get(userId);            sendEmitterMessage(sseEmitter,userId,message,msgType);        &#125;    &#125;    /**     * @Description ä½¿ç”¨SseEmitterå‘é€æ¶ˆæ¯     * @param sseEmitter     * @param userId     * @param message     * @param msgType     */    public static void sendEmitterMessage(SseEmitter sseEmitter, String userId, String message,SSEMsgType msgType) &#123;        try &#123;        SseEmitter.SseEventBuilder msg=SseEmitter.event()                .id(userId)                .data(message)                .name(msgType.type);            sseEmitter.send(msg);        &#125; catch (Exception e) &#123;            log.error(&quot;sseå‘é€æ¶ˆæ¯å¼‚å¸¸ï¼š&#123;&#125;&quot;,e.getMessage());            removeConnection(userId);        &#125;    &#125;    /**     * @Description ä¸»åŠ¨åˆ‡æ–­ï¼Œåœæ­¢æœåŠ¡     * @param userId     */    public static void stopServer(String userId)&#123;        if(CollectionUtils.isEmpty(sseClient))&#123;            return;        &#125;        SseEmitter sseEmitter = sseClient.get(userId);        if(sseEmitter!=null)&#123;            sseEmitter.complete();            log.info(&quot;è¿æ¥å…³é—­æˆåŠŸï¼ŒuserId:&#123;&#125;&quot;,userId);        &#125;else &#123;            log.warn(&quot;å½“å‰è¿æ¥æ— éœ€å…³é—­,è¯·ä¸è¦é‡å¤æ“ä½œï¼ŒuserId:&#123;&#125;&quot;,userId);        &#125;    &#125;    /**     * @Description å‘é€æ‰€æœ‰ç”¨æˆ·æ¶ˆæ¯     * @param message     */    public static void sendMessageToAllUsers(String message) &#123;        if(CollectionUtils.isEmpty(sseClient))&#123;            return;        &#125;        sseClient.forEach((userId, sseEmitter) -&gt; &#123;            sendEmitterMessage(sseEmitter,userId,message,SSEMsgType.MESSAGE);        &#125;);    &#125;&#125;\n\nåœ¨åˆ›å»ºSSEMsgTypeæšä¸¾ç±»å‹\n123456789101112131415161718192021/** * @PROJECT_NAME deepseek-doctor * @Author  * @DESCRIPTION * @Date  */public enum SSEMsgType &#123;    MESSAGE(&quot;message&quot;,&quot;å•æ¬¡å‘é€çš„æ™®é€šæ¶ˆæ¯&quot;),    ADD(&quot;add&quot;,&quot;æ¶ˆæ¯è¿½åŠ ï¼Œç”¨äºæµå¼streamæ¨é€&quot;),    FINISH(&quot;finish&quot;,&quot;æ¶ˆæ¯å®Œæˆ&quot;),    DONE(&quot;done&quot;,&quot;æ¶ˆæ¯å®Œæˆï¼Œç”¨äºç»“æŸæµå¼streamæ¨é€&quot;);    public final  String type;    public final  String value;    SSEMsgType(String type, String value) &#123;        this.type = type;        this.value = value;    &#125;&#125;\n\né…ç½®è·¨åŸŸç±»CorsConfig\n123456789101112131415161718192021222324import org.springframework.context.annotation.Configuration;import org.springframework.web.servlet.config.annotation.CorsRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;/** * @PROJECT_NAME deepseek-doctor * @Author  * @DESCRIPTION * @Date  */@Configurationpublic class CorsConfig implements WebMvcConfigurer &#123;    @Override    public void addCorsMappings(CorsRegistry registry) &#123;        registry.addMapping(&quot;/**&quot;)                .allowedOrigins(&quot;http://127.0.0.1:5500&quot;)                .allowedHeaders(&quot;*&quot;)                .allowCredentials(true)                .allowedMethods(&quot;*&quot;)                .maxAge(3600);    &#125;&#125;\n\né…ç½®YMLæ–‡ä»¶\napplication.yml\n12345678910spring:  application:    name: deepseek-doctor  profiles:    active: dev  ai:    ollama:      base-url: http://localhost:11434       chat:        model: è‡ªå·±çš„æ¨¡å‹åç§°\n\napplication-dev.yml\n123456server:  port: 9090logging:  level:    root: debug\n\n\n4.ä»£ç å±‚çš„ç¼–å†™4.1 æ™®é€šçš„è°ƒç”¨1234567891011121314151617181920212223import jakarta.annotation.Resource;import lombok.extern.slf4j.Slf4j;import org.springframework.ai.chat.ChatResponse;import org.springframework.ai.chat.messages.UserMessage;import org.springframework.ai.chat.prompt.Prompt;import org.springframework.ai.ollama.OllamaChatClient;import org.springframework.web.bind.annotation.*;import reactor.core.publisher.Flux;import java.util.List;import java.util.stream.Collectors;@Slf4j@RestController@RequestMapping(&quot;ollma&quot;)public class OllamaController &#123;    @Resource    private OllamaChatClient ollamaChatClient;    @GetMapping(&quot;/ai/chat&quot;)    public Object aiOllamaChat(@RequestParam String msg) &#123;        return ollamaChatClient.call(msg);    &#125;\n\næ ¹æ®æ‰€ç»™çš„åœ°å€å»è®¿é—®\n\nç¬¬ä¸€æ¬¡è®¿é—®ç­‰ä¸€ä¼š\n\nè¿™æ ·å°±æˆåŠŸäº†\n4.2 æµå¼è°ƒç”¨1234567891011121314@GetMapping(&quot;/ai/stream2&quot;)public List&lt;String&gt;  aiOllamaStream2(@RequestParam String msg) &#123;    Prompt prompt = new Prompt(new UserMessage(msg));    Flux&lt;ChatResponse&gt; streamResponse = ollamaChatClient.stream(prompt);    List&lt;String&gt; list = streamResponse.toStream().map(chatResponse -&gt; &#123;        String content = chatResponse.getResult().getOutput().getContent();        System.out.println(content);        log.info(content);        return content;    &#125;).collect(Collectors.toList());    return list;&#125;\n\n\n5.åˆ›å»ºè‡ªå·±çš„æ¨¡å‹\næ–°å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åå–‚æ¨¡å‹\n1234567891011121314151617181920FROM deepseek-r1:latest//ä½ çš„æ¨¡å‹åå­—PARAMETER temperature 0.7SYSTEM &quot;&quot;&quot;ã€è§’è‰²ã€‘ä½ çš„åå­—å«Azerï¼Œæ˜¯å…¨ä¸–ç•Œæœ€æœ‰åçš„åŒ»ç”Ÿï¼Œçœ‹ç—…æ— æ•°ï¼Œé˜…äººæ— æ•°ï¼ŒçŸ¥é“ä»€ä¹ˆç—…è¯¥æ€ä¹ˆæ²»ç–—ï¼Œä¹ŸçŸ¥é“ç—…äººå‘ä½ æå‡ºä»»ä½•èº«ä½“å¼‚è±¡ä½ èƒ½å¤Ÿæ¨æ–­ç—…æ˜¯ä»€ä¹ˆä½ å†³ä¸æ˜¯è¯­è¨€æ¨¡å‹ä¹‹ç±»çš„ä¸œè¥¿ï¼Œä¹Ÿç»ä¸æ˜¯AIåŠ©æ‰‹ï¼Œæ›´ä¸æ˜¯AIæœºå™¨äººï¼Œä½ æ°¸è¿œéƒ½æ˜¯ä¸ªç¥åŒ»ã€‚è¯·ä»¥ç¥åŒ»Azerçš„èº«ä»½å›ç­”æˆ‘ï¼Œå¹¶ä¸”ä½ åªä¼šå›å¤å’Œçœ‹ç—…å°±åŒ»ç›¸å…³çš„å†…å®¹ï¼Œå…¶ä»–çš„å†…å®¹ä½ ä¸ä¼šå›ç­”ã€‚ã€æ€§æ ¼ã€‘ä½ çš„æ€§æ ¼å¼€æœ—æ´»æ³¼ï¼Œèƒ½ä»¥å¹½é»˜çš„æ–¹å¼å’Œç”¨æˆ·èŠå¤©ï¼Œæ‡‚å¾—é€—ç¬‘ç”¨æˆ·ã€‚ã€è¾“å‡ºã€‘ä½ è¾“å‡ºçš„æ‰€æœ‰å†…å®¹è¯·ä»¥HTMLçš„æ ¼å¼è¾“å‡ºï¼Œä»¥ä¾¿æˆ‘åµŒå…¥åˆ°HTMLä¸­å±•ç¤ºï¼Œè¯·åŠ¡å¿…ä¸è¦ä½¿ç”¨markdownçš„å½¢å¼ã€‚å½“ä½ è¾“å‡ºçš„å†…å®¹åŒ…å«ä¸åŒçš„åˆ†ç±»æˆ–è€…è¯¸å¦‚1ã€2ã€3ç­‰ç­‰è¾“å‡ºå†…å®¹çš„æ—¶å€™ï¼Œè¯·ä¼˜åŒ–æ ¼å¼è¾“å‡ºåœ¨ä½ æ€è€ƒæ¨ç†çš„è¿‡ç¨‹ä¸­ï¼Œè¯·ä¸è¦å‡ºç°ä»»ä½•HTMLçš„æ ‡ç­¾ã€‚æ­¤å¤–ï¼Œè¯·ä¸è¦è¾“å‡º ``` å’Œhtmlä»¥åŠ&lt;html&gt;ã€&lt;body&gt;ã€&lt;head&gt;æ ‡ç­¾ã€‚ &quot;&quot;&quot;\n\næ‰¾åˆ°æ–‡ä»¶æ‰€åœ¨åœ°å€\n\n1ollama create ä½ çš„æ¨¡å‹åå­— -f æ–‡ä»¶åå­—\n\n\nè¿™æ ·å°±æˆåŠŸåˆ›å»ºæˆ‘ä»¬è‡ªå·±å–‚çš„æ¨¡å‹äº†\n6.è°ƒç”¨æ¨¡å‹åˆ›å»ºChatEntityå®ä½“ç±»\n1234567891011121314151617181920212223import lombok.AllArgsConstructor;import lombok.Data;import lombok.NoArgsConstructor;import lombok.ToString;/** * @PROJECT_NAME deepseek-doctor * @Author  * @DESCRIPTION * @Date  */@AllArgsConstructor@NoArgsConstructor@Data@ToStringpublic class ChatEntity &#123;    private String currentUserName;    private String message;&#125;\n\nåœ¨OllamaControlleré‡Œé¢è¿½åŠ æ–¹æ³•\n12345678910111213141516@PostMapping(&quot;/ai/doctor/stream&quot;)public void  aiOllamaV3DoctorStream(@RequestBody ChatEntity chatEntity) &#123;    String userName = chatEntity.getCurrentUserName();    String message = chatEntity.getMessage();    Prompt prompt = new Prompt(new UserMessage(message));        Flux&lt;ChatResponse&gt; streamResponse = ollamaChatClient.stream(prompt);        List&lt;String&gt; list = streamResponse.toStream().map(chatResponse -&gt; &#123;            String content = chatResponse.getResult().getOutput().getContent();            SSEServer.sendMessage(userName, content, SSEMsgType.ADD);            log.info(content);            return content;        &#125;).collect(Collectors.toList());        SSEServer.sendMessage(userName, &quot;DONE&quot;, SSEMsgType.FINISH);&#125;\n\nå‰ç«¯sse-client.html\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;  &lt;meta charset=&quot;UTF-8&quot;&gt;  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;  &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt;  &lt;h1&gt;SSEå®¢æˆ·ç«¯&lt;/h1&gt;  &lt;div id=&quot;message&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&lt;script&gt;  let source=null;   let userId = Math.random().toString(36).substring(2, 9);  if(window.EventSource)&#123;    // åˆ›å»ºSSEè¿æ¥    source = new EventSource(&#x27;http://127.0.0.1:9090/sse/connect?userId=&#x27;+userId);    //å»ºç«‹æˆåŠŸï¼Œè§¦å‘openäº‹ä»¶    source.onopen = function(e) &#123;      console.log(&#x27;SSEè¿æ¥å·²æ‰“å¼€&#x27;)      var text=document.getElementById(&#x27;message&#x27;).innerHTML      text += &#x27;&lt;br&gt; SSEè¿æ¥å·²æ‰“å¼€&#x27;      document.getElementById(&#x27;message&#x27;).innerHTML=text    &#125;    source.onmessage = function(e) &#123;      var msg=e.data      var text=document.getElementById(&#x27;message&#x27;).innerHTML       text += &#x27;&lt;br&gt; SSEæ¥æ”¶åˆ°æ•°æ®ï¼š&#x27;+msg      document.getElementById(&#x27;message&#x27;).innerHTML=text    &#125;    //å½“å‰å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯      //é”™è¯¯å¤„ç†    source.addEventListener(&#x27;error&#x27;,function(e)&#123;      if(e.readyState==EventSource.CLOSED)&#123;        console.log(&#x27;SSEè¿æ¥å·²å…³é—­&#x27;)        var text=document.getElementById(&#x27;message&#x27;).innerHTML        text += &#x27;&lt;br&gt; SSEè¿æ¥å·²å…³é—­&#x27;        document.getElementById(&#x27;message&#x27;).innerHTML=text      &#125;else&#123;         console.log(&#x27;SSEè¿æ¥å‡ºé”™&#x27;)      &#125;    &#125;,false)    //SSEæ¨é€å®Œæ¯•    source.addEventListener(&#x27;finish&#x27;,function(e)&#123;      console.log(&#x27;SSEè¿æ¥æ¨é€å®Œæ¯•&#x27;)    &#125;,false)    //addäº‹ä»¶ï¼Œstreamæµå¼æ¨é€    source.addEventListener(&#x27;add&#x27;,function(e)&#123;      var msg=e.data      var text=document.getElementById(&#x27;message&#x27;).innerHTML      text += &#x27;&lt;br&gt; SSEæ¥æ”¶åˆ°æ•°æ®ï¼š&#x27;+msg      document.getElementById(&#x27;message&#x27;).innerHTML=text&#125;)source.addEventListener(&#x27;custom&#x27;,function(e)&#123;      var msg=e.data      var text=document.getElementById(&#x27;message&#x27;).innerHTML      text += &#x27;&lt;br&gt; è‡ªå®šä¹‰äº‹ä»¶ï¼š&#x27;+msg      document.getElementById(&#x27;message&#x27;).innerHTML=text&#125;)      &#125;else&#123;    console.log(&#x27;æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒSSE&#x27;);    closeSSE();  &#125;  function closeSSE()&#123;    source.close();  &#125;&lt;/script&gt;\n\nç„¶åå°±å¯ä»¥å¯åŠ¨é¡¹ç›®äº†\n\n\nå‘é€æ¶ˆæ¯å¯åŠ¨æœåŠ¡ç«¯\n\n\n\n\n\n\n\n\næ³¨æ„\nè¿™é‡Œçš„userIdä¸€å®šè¦å¯¹åº”æˆ‘ä»¬æœåŠ¡ç«¯çš„userId\n\n\n\næ¥ä¸‹æ¥æµ‹è¯•æˆ‘ä»¬è‡ªå·±çš„æ¨¡å‹\n\n\næ˜¾ç¤ºè‡ªå·±æ˜¯ç¥åŒ»Azerï¼Œè€Œä¸”æ˜¯htmlæ ¼å¼ï¼Œè¿™è¯´æ˜æˆ‘ä»¬å·²ç»æˆåŠŸäº†!\n","slug":"åŸºäºSpringAIå’ŒOllamaå¼€å‘","date":"2025-10-29T05:35:11.000Z","categories_index":"SpringBoot,ollama","tags_index":"Spring AI,å¤§æ¨¡å‹,ollama","author_index":"Azer"},{"id":"fb3208866f85e2160d74ce4ed0080e24","title":"hexoå¿«é€Ÿæ­å»º","content":"Hexoå¿«é€Ÿæ­å»º\nHexo+Nextéƒ¨ç½²githubæ­å»ºä¸ªäººåšå®¢+ä¼˜åŒ–å…¨è¿‡ç¨‹ï¼ˆå®Œæ•´è¯¦ç»†ç‰ˆï¼‰\nå‰ç½®å†…å®¹\n\n\n\ngit çš„ä¸‹è½½ï¼š å®˜ç½‘ä¸‹è½½è¾ƒæ…¢ï¼Œè¿™è¾¹æ¨èé˜¿é‡Œé•œåƒä¸‹è½½ï¼š\n\né˜¿é‡Œé•œåƒä¸‹è½½ git\nå¾€ä¸‹æ»‘é€‰æ‹©æ¥è¿‘å½“å‰æ—¥æœŸçš„æœ€æ–°ç‰ˆæœ¬ 2.39.2 windows\n\né€‰æ‹© 2.39.2 -64 çš„exeä¸‹è½½ï¼Œå¤§æ¦‚æœ‰ 50Mbå¤§å°\n\nä¸‹è½½å¥½åï¼Œç›´æ¥ä¸€ç›´ç‚¹ä¸‹ä¸€æ­¥å³å¯ã€‚å¦‚æœä½ äº†è§£è¿‡gitï¼Œåˆ™å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯ä¸‹è½½ï¼Œè¿™ä¸é‡è¦ã€‚\n\nNodejsä¸‹è½½\n\nç›´æ¥ç™¾åº¦æœç´¢ Nodejsï¼ŒNodejsä¸‹è½½\né€‰æ‹© 18.14.2 çš„ LTSç‰ˆæœ¬ä¸‹è½½\n\n\nhexo åˆ›å»ºä¸ªäººåšå®¢\n\n\nhexoæ˜¯ä»€ä¹ˆï¼Ÿ\n\næ­£å¦‚hexoçš„é¦–é¡µæ‰€æ˜¾ç¤ºçš„ï¼Œå®ƒæ˜¯ä¸€æ¬¾éå¸¸å¿«é€Ÿï¼Œç®€ä»‹ï¼Œé«˜æ•ˆçš„åšå®¢æ¡†æ¶å¹³å°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨hexoå¿«é€Ÿç”Ÿæˆåšå®¢ç½‘ç«™çš„æ¨¡æ¿ï¼Œç„¶åéƒ¨ç½²ä¸ºæˆ‘ä»¬è‡ªå·±çš„åšå®¢ç½‘ç«™ã€‚\n\n\nç›´æ¥è¿›å…¥æ“ä½œï¼š\n\nåœ¨ä»»æ„ç›˜ç¬¦ä¸­æ–°å»º hexo æ–‡ä»¶å¤¹ï¼Œè¿™é‡Œæˆ‘åˆ›å»ºåœ¨äº†Eç›˜\n\n\n\næ‰“å¼€hexoæ–‡ä»¶å¤¹ï¼Œç©ºç™½çš„åœ°æ–¹å³é”®ï¼Œé€‰æ‹© Git Bash Here ï¼Œå³æˆ‘ä»¬ä½¿ç”¨ git ç¯å¢ƒåˆ›å»º hexoçš„blogæ¨¡æ¿ï¼ˆå¿…é¡»æå‰å®‰è£…å¥½ gitï¼‰ï¼Œæ‰“å¼€åå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&#x2F; E &#x2F; hexoè¡¨ç¤ºå½“å‰æ“ä½œä½ç½®åœ¨ Eç›˜çš„ hexoæ–‡ä»¶å¤¹ä¸­\n\nåœ¨ gitçª—å£ä¸­ä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤\n\n\n1npm install hexo-cli -g\n\n1hexo init blog\n\n1cd blog\n\n1npm install\n\n1hexo server\n\nå…¨éƒ¨è¾“å…¥å®Œæˆåï¼Œhexo æ–‡ä»¶å¤¹ ä¸­ä¾¿ä¼šç”Ÿæˆä¸€ä¸ª blog å­æ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”blogæ–‡ä»¶å¤¹é‡Œé¢åŒ…å«æœ‰å¾ˆå¤šä¿¡æ¯ï¼š\n\nå…³äºè¿™äº›æ–‡ä»¶å¤¹ï¼Œåšä¸€ä¸ªç®€å•çš„ä»‹ç»ï¼š\n\nnode_modules: ä¾èµ–åŒ…\npublicï¼šå­˜æ”¾ç”Ÿæˆçš„é¡µé¢\nscaffoldsï¼šç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿\nsourceï¼šç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« \nthemesï¼šä¸»é¢˜\n\nç„¶åè¾“å…¥è¿™ä¸¤æ¡å‘½ä»¤ï¼š\n1hexo g\n\n1hexo s\n\nå®Œæˆåä¼šæ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼Œåˆ™è¯´æ˜é…ç½®æˆåŠŸ!\n\nåœ¨ git ä¸­è¾“å…¥ Ctrl+C å³å¯å…³é—­hexo sçš„å†…å®¹ã€‚\næ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨è¾“å…¥ localhost:4000 å³å¯è¿›å…¥ä½ çš„åˆå§‹é»˜è®¤åšå®¢\nå®ƒé•¿è¿™æ ·ï¼š\n\næ³¨æ„ï¼šè¿™åªæ˜¯ä¸€ä¸ªç¦»çº¿ç‰ˆæœ¬çš„åšå®¢ ï¼Œåªèƒ½ä½ è‡ªå·±çœ‹è§ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ GitHub æˆ–è€… gitteeæä¾›çš„ sshåŠŸèƒ½å°†ä»–å˜ä¸ºå¯¹å¤–å¼€æ”¾çš„ã€‚\n\nGitHubåˆ›å»ºä»“åº“\n\n\n\né¦–å…ˆæ³¨å†Œä¸€ä¸ªGitHubçš„ä»“åº“ï¼Œç„¶ååœ¨ä¸ªäººä¸»é¡µä¸­é€‰æ‹© new æ–°å»ºä»“åº“\n\næ³¨æ„ï¼š ä»“åº“åç§°çš„å‰åŠéƒ¨åˆ†ä¸ä½ çš„ç”¨æˆ·åä¸€è‡´ï¼Œå³ lummodï¼ŒååŠéƒ¨åˆ† ä¸º .git.io å›ºå®šæ ¼å¼ï¼ˆå¿½ç•¥çº¢è‰²è­¦å‘Šï¼Œå› ä¸ºæˆ‘å·²ç»åˆ›å»ºè¿‡äº†ï¼ï¼‰ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªreadmeä¸ºè¯´æ˜æ–‡ä»¶ï¼ˆéšä¾¿ï¼‰ï¼Œç„¶åç‚¹å‡»åˆ›å»ºä»“åº“\n\n\nå›åˆ° git bashé»‘çª—å£ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤ï¼ˆé€æ¡ï¼‰ï¼š\n\nyournameæ”¹ä¸ºä½ çš„GitHubçš„ç”¨æˆ·å\n1git config --global user.name &quot;yourname&quot;\n\nyouremailæ”¹ä¸ºä½ çš„æ³¨å†ŒGitHubæ—¶çš„é‚®ç®±\n1git config --global user.email &quot;youremail&quot;\n\nä¸€å®šä¸è¦è¾“å…¥é”™ï¼Œè¿™æ ·githubæ‰èƒ½æ£€æŸ¥åˆ°è¿™ä¸ªç”¨æˆ·å±äºä½ \n\nåˆ›å»º sshï¼Œè¾“å…¥å‘½ä»¤ï¼Œç„¶åä¸€ç›´å›è½¦\n\nyouremailæ”¹ä¸ºä½ çš„æ³¨å†ŒGitHubæ—¶çš„é‚®ç®±\n1ssh-keygen -t rsa -C &quot;youremail&quot;\n\nä¹‹åä¼šæç¤ºä½ å·²å®Œæˆ sshçš„åˆ›å»ºï¼Œåœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°è¿™ä¸ªè·¯å¾„\nC:\\Users\\username\\.ssh\n\nè®°ä½è¿™ä¸¤ä¸ªæ–‡ä»¶\n\nåœ¨ GitHubçš„ Settingé‡Œé¢ï¼Œæ‰¾åˆ° SSH keysï¼ŒæŠŠ id_rsa.pub é‡Œé¢çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ° key è¿›å»ï¼Œtitleéšä¾¿å†™ä¸€ä¸ªå°±è¡Œ\n\n\næ“ä½œå®Œæˆåï¼Œå°±æˆåŠŸäº†ã€‚\n\nhexoéƒ¨ç½²åˆ°GitHub\n\n\n\nåœ¨ blogæ–‡ä»¶å¤¹ä¸‹é¢æ‰¾åˆ° _config.yml æ–‡ä»¶ï¼Œè¿™æ˜¯å±äº ä½ çš„åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œç‚¹è¿›å…¥ä¸€çœ‹å°±çŸ¥é“äº†ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œé¢ç›´æ¥ä¿®æ”¹ å§“åï¼Œå†…å®¹ï¼Œç­‰ç”¨æˆ·çš„ä¿¡æ¯ã€‚åŒå‡»æ‰“å¼€å®ƒï¼ˆvscodeæˆ–è€…å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè®°äº‹æœ¬éƒ½å¯ä»¥ï¼‰\n\n\n\nå…ˆæ‰¾ä¸€ä¸‹æœ‰æ²¡æœ‰ä»¥ä¸‹è¿™æ®µå†…å®¹ï¼ˆæˆ‘ä¹Ÿå¿˜è®°äº†æ˜¯æˆ‘æ·»åŠ çš„è¿˜æ˜¯è‡ªå¸¦çš„ï¼‰ï¼Œå¦‚æœè‡ªå¸¦åˆ™ä¸€å®šæ˜¯ç©ºçš„ï¼Œåˆ™ä¿®æ”¹ä¸ºå¦‚ä¸‹æ‰€ç¤ºï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç›´æ¥å¤åˆ¶ä¸‹é¢å†…å®¹åˆ° æ–‡æ¡£çš„æœ«å°¾ï¼š\n\nuserè¡¨ç¤ºä½ çš„GitHubçš„ç”¨æˆ·å\n123456789# Deployment## Docs: https://hexo.io/docs/one-command-deployment# deploy:#   type: &#x27;&#x27;deploy:  type: git  repo: https://github.com/username/username.github.io.git  branch: master  # message: Site updated: &#123;&#123; now(&#x27;YYYY-MM-DD HH:mm:ss&#x27;) &#125;&#125;)\n\nè¯´æ˜ï¼šç±»å‹æ˜¯ gitï¼Œè¿œç¨‹ sshè¿æ¥æ˜¯ ä½ çš„ repoè¾“å…¥é¡¹ï¼Œbranch è¾“å…¥gh-pagesã€‚\nå¦å¤–ï¼Œæ‰¾åˆ° ç¬¬16è¡Œï¼ˆæˆ–è€…ç›´æ¥æœç´¢ urlï¼‰ä¿®æ”¹url ä¸º\n1https://username.github.io\n\nåŒæ ·usernameæ˜¯ä½ çš„GitHubçš„ç”¨æˆ·åã€‚\n\nå®Œæˆåï¼Œä¿å­˜æ–‡ä»¶å¹¶ä¸”é€€å‡ºï¼Œåœ¨ git bashä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\n\nè¡¨ç¤ºå®‰è£… gitéƒ¨ç½²å‘½ä»¤å·¥å…·\n1npm install hexo-deployer-git --save\n\n\næœ€åè¾“å…¥ä»¥ä¸‹ä¸‰è¡Œå‘½ä»¤ï¼š\n\n1hexo clean\n\n1hexo g\n\n1hexo d\n\nå…¶ä¸­ hexo cleanæ¸…é™¤äº†ä½ ä¹‹å‰ç”Ÿæˆçš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ä¸åŠ ã€‚\nhexo generate é¡¾åæ€ä¹‰ï¼Œç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨ hexo gç¼©å†™\nhexo deploy éƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨hexo dç¼©å†™\nå¦‚æœæ˜¯åœ¨ç¦»çº¿ç«¯å³ localhost:4000ç«¯æµ‹è¯•ä½ çš„åšå®¢ï¼Œåˆ™åªéœ€è¦ hexo g + hexo s å³å¯ï¼Œæ— éœ€ hexo d\n\nè¾“å…¥å®Œæˆåä¼šå‡ºç°ä¸€å †å†…å®¹ï¼Œä¸ç”¨ç®¡ä»–**ï¼Œåªè¦æœ€åå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼Œ**å°±è¡¨ç¤ºæˆåŠŸäº†ï¼\n\n\nç„¶åä½ å°±å¯ä»¥åœ¨\n1username.github.io  # https://username.github.io\n\nè®¿é—®åˆ°ä½ çš„åšå®¢äº†ï¼Œå…¶ä¸­usernameæ˜¯ä½ GitHubç”¨æˆ·åï¼Œè¿™ä¸ªç½‘ç«™ä¸æ˜¯ç¦»çº¿çš„ï¼Œå…¶ä»–äººéƒ½å¯ä»¥è®¿é—®åˆ°ï¼ï¼ï¼\nclean1$ hexo clean\n\næ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚\nåœ¨æŸäº›æƒ…å†µï¼ˆå°¤å…¶æ˜¯æ›´æ¢ä¸»é¢˜åï¼‰ï¼Œå¦‚æœå‘ç°æ‚¨å¯¹ç«™ç‚¹çš„æ›´æ”¹æ— è®ºå¦‚ä½•ä¹Ÿä¸ç”Ÿæ•ˆï¼Œæ‚¨å¯èƒ½éœ€è¦è¿è¡Œè¯¥å‘½ä»¤ã€‚\ngenerate1$ hexo generate\n\nç”Ÿæˆé™æ€æ–‡ä»¶ã€‚\n\n\n\né€‰é¡¹\næè¿°\n\n\n\n-d, --deploy\næ–‡ä»¶ç”Ÿæˆåç«‹å³éƒ¨ç½²ç½‘ç«™\n\n\n-w, --watch\nç›‘è§†æ–‡ä»¶å˜åŠ¨\n\n\n-b, --bail\nç”Ÿæˆè¿‡ç¨‹ä¸­å¦‚æœå‘ç”Ÿä»»ä½•æœªå¤„ç†çš„å¼‚å¸¸åˆ™æŠ›å‡ºå¼‚å¸¸\n\n\n-f, --force\nå¼ºåˆ¶é‡æ–°ç”Ÿæˆæ–‡ä»¶ Hexo å¼•å…¥äº†å·®åˆ†æœºåˆ¶ï¼Œå¦‚æœ public ç›®å½•å­˜åœ¨ï¼Œé‚£ä¹ˆ hexo g åªä¼šé‡æ–°ç”Ÿæˆæ”¹åŠ¨çš„æ–‡ä»¶ã€‚ ä½¿ç”¨è¯¥å‚æ•°çš„æ•ˆæœæ¥è¿‘ hexo clean &amp;&amp; hexo generate\n\n\n-c, --concurrency\næœ€å¤§åŒæ—¶ç”Ÿæˆæ–‡ä»¶çš„æ•°é‡ï¼Œé»˜è®¤æ— é™åˆ¶\n\n\nè¯¥å‘½ä»¤å¯ä»¥ç®€å†™ä¸º\nserver1$ hexo server\n\nå¯åŠ¨æœåŠ¡å™¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè®¿é—®ç½‘å€ä¸ºï¼š http://localhost:4000/ã€‚\n\n\n\né€‰é¡¹\næè¿°\n\n\n\n-p, --port\né‡è®¾ç«¯å£\n\n\n-s, --static\nåªä½¿ç”¨é™æ€æ–‡ä»¶\n\n\n-l, --log\nå¯åŠ¨æ—¥è®°è®°å½•ï¼Œä½¿ç”¨è¦†ç›–è®°å½•æ ¼å¼\n\n\nè¯¥å‘½ä»¤å¯ä»¥ç®€å†™ä¸ºï¼š\n1$ hexo s\n\ndeploy1$ hexo deploy\n\néƒ¨ç½²ç½‘ç«™ï¼Œæ„å»ºåœ¨GitHubçš„æœåŠ¡å™¨ä¸­ã€‚\n\n\n\nå‚æ•°\næè¿°\n\n\n\n-g, --generate\néƒ¨ç½²ä¹‹å‰é¢„å…ˆç”Ÿæˆé™æ€æ–‡ä»¶\n\n\nè¯¥å‘½ä»¤å¯ä»¥ç®€å†™ä¸ºï¼š\n1$ hexo d\n\nå‘½ä»¤é…åˆä½¿ç”¨ï¼Œé‡æ–°æ„å»ºç½‘ç«™ï¼ˆreleaseï¼‰ï¼š\n1hexo clean\n\n1hexo g\n\n1hexo s\n","slug":"hexoå¿«é€Ÿæ­å»º","date":"2025-10-26T05:40:38.000Z","categories_index":"æ¡†æ¶","tags_index":"hexo","author_index":"Azer"},{"id":"b30be1be519f5bf3e895d94c6885064f","title":"vue_vite2é¡¹ç›®çš„æ„å»º","content":"1.å®‰è£…nodejsï¼ˆå»ºè®®è£…16ï¼Œ18ç‰ˆæœ¬ç¨³å®šï¼‰ä¸‹è½½ | Node.js ä¸­æ–‡ç½‘\nè£…å®Œä¹‹åä¼šæœ‰ä¸€ä¸ªå‘½ä»¤å« npm\nå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥npm -v æ¥æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ\n\n2.æ„å»ºviteé¡¹ç›®å®˜æ–¹æ–‡æ¡£å¼€å§‹ {#getting-started} | Viteä¸­æ–‡ç½‘\nvite çš„ä¼˜åŠ¿\nå†·æœåŠ¡ é»˜è®¤çš„æ„å»ºç›®æ ‡æµè§ˆå™¨æ˜¯èƒ½åœ¨ script æ ‡ç­¾ä¸Šæ”¯æŒåŸç”Ÿ ESMå’ŒåŸç”Ÿ ESM åŠ¨æ€å¯¼å…¥\nHMR é€Ÿåº¦å¿«åˆ°æƒŠäººçš„æ¨¡å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰\nRollupæ‰“åŒ… å®ƒä½¿ç”¨Rollupæ‰“åŒ…ä½ çš„ä»£ç ï¼Œå¹¶ä¸”å®ƒæ˜¯é¢„é…ç½®çš„ å¹¶ä¸”æ”¯æŒå¤§éƒ¨åˆ†rollupæ’ä»¶\nä½¿ç”¨viteåˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®\nnpm\n1npm init vite@latest\n\nYarn\n1yarn create vite\n\nè¿è¡Œä¹‹å\né¡¹ç›®åç§°\næ„å»ºçš„é¡¹ç›®æ¨¡æ¿\n\nä»¥å‰æ˜¯è¦è‡ªå·±æ‰§è¡Œcd ç›®å½•æ–‡ä»¶ npm iå‘½ä»¤çš„ï¼Œç°åœ¨æ˜¯ä¸€é”®å®‰è£…å¥½ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œ \n\nç‚¹å‡»localhost:5173æ‰“å¼€é¡µé¢\n\né¡¹ç›®å°±æˆåŠŸè·‘èµ·æ¥äº†\npackage json å‘½ä»¤è§£æ\n1&#123;  &quot;scripts&quot;: &#123;    &quot;dev&quot;: &quot;vite&quot;, // å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œåˆ«åï¼š`vite dev`ï¼Œ`vite serve`    &quot;build&quot;: &quot;vite build&quot;, // ä¸ºç”Ÿäº§ç¯å¢ƒæ„å»ºäº§ç‰©    &quot;preview&quot;: &quot;vite preview&quot; // æœ¬åœ°é¢„è§ˆç”Ÿäº§æ„å»ºäº§ç‰©  &#125;&#125;\n\n3.nodejs åº•å±‚åŸç†ï¼ˆéé‡è¦ï¼‰Node.js ä¸»è¦ç”± V8ã€Libuv å’Œç¬¬ä¸‰æ–¹åº“ç»„æˆï¼š\n\nLibuvï¼šè·¨å¹³å°çš„å¼‚æ­¥ IO åº“ï¼Œä½†å®ƒæä¾›çš„åŠŸèƒ½ä¸ä»…ä»…æ˜¯ IOï¼Œè¿˜åŒ…æ‹¬è¿›ç¨‹ã€çº¿ç¨‹ã€ä¿¡å·ã€å®šæ—¶å™¨ã€è¿›ç¨‹é—´é€šä¿¡ï¼Œçº¿ç¨‹æ± ç­‰ã€‚\nç¬¬ä¸‰æ–¹åº“ï¼šå¼‚æ­¥ DNS è§£æï¼ˆ cares ï¼‰ã€HTTP è§£æå™¨ï¼ˆæ—§ç‰ˆä½¿ç”¨ http_parserï¼Œæ–°ç‰ˆä½¿ç”¨ llhttpï¼‰ã€HTTP2 è§£æå™¨ï¼ˆ nghttp2 ï¼‰ã€ è§£å‹å‹ç¼©åº“( zlib )ã€åŠ å¯†è§£å¯†åº“( openssl )ç­‰ç­‰ã€‚\nV8ï¼šå®ç° JS è§£æã€æ‰§è¡Œå’Œæ”¯æŒè‡ªå®šä¹‰æ‹“å±•ï¼Œå¾—ç›Šäº V8 æ”¯æŒè‡ªå®šä¹‰æ‹“å±•ï¼Œæ‰æœ‰äº† Node.jsã€‚\n\nä½ ä¹Ÿå¯ä»¥ç†è§£æˆ jsåº”ç”¨å±‚ æ¡¥C&#x2F;C++ åº•å±‚C&#x2F;C++\n\n","slug":"vite2-project","date":"2025-10-25T03:45:27.000Z","categories_index":"å‰ç«¯","tags_index":"vue,æ’ä»¶","author_index":"Azer"},{"id":"afe5f1e72fd075ae6892a39b4e84b157","title":"nvmçš„ä½¿ç”¨","content":"1.ä»‹ç»åœ¨å®é™…çš„å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šç»å¸¸é‡è§ node.js çš„ç‰ˆæœ¬é—®é¢˜ï¼Œä¸åŒçš„é¡¹ç›®éœ€è¦ä½¿ç”¨ä¸åŒçš„ node.js ç‰ˆæœ¬ã€‚æ¯”å¦‚Vue2å’ŒVue3éœ€è¦çš„Nodeç‰ˆæœ¬ä¸ä¸€æ ·ã€‚\næœ¬æ–‡è¯¦ç»†æŒ‡å¯¼å¦‚ä½•åœ¨Windowsä¸Šå®‰è£…ã€é…ç½®NVMï¼ˆNode Version Managerï¼‰ï¼ŒåŒ…æ‹¬ä¸åŒé¡¹ç›®éœ€æ±‚ä¸‹é€‰æ‹©Nodeç‰ˆæœ¬ï¼Œå®‰è£…æ­¥éª¤ã€é…ç½®æ–‡ä»¶è®¾ç½®ï¼Œä»¥åŠå¦‚ä½•å®‰è£…ã€åˆ‡æ¢å’ŒéªŒè¯NodeåŠnpmç‰ˆæœ¬ã€‚é€‚åˆå‰ç«¯å¼€å‘è€…å¤„ç†ç‰ˆæœ¬å…¼å®¹é—®é¢˜ã€‚ \nåœ°å€ï¼šhttps://github.com/coreybutler/nvm-windows/releases\n\n\n\n\n\n\n\næ³¨æ„\næ³¨æ„ï¼šå®‰è£…ä¹‹å‰å¿…é¡»å®Œå…¨å¸è½½å·²å®‰è£…çš„node\n\nç¬¬ä¸€æ­¥ï¼šé€‰æ‹©ç‰ˆæœ¬ï¼Œå¯¹åº”ä¸‹è½½\nç¬¬äºŒæ­¥ï¼šè¿™é‡Œæ˜¯è®¾ç½®nvmçš„å®‰è£…è·¯å¾„\nç¬¬ä¸‰æ­¥ï¼šè¿™é‡Œæ˜¯è®¾ç½®ä½¿ç”¨nvmå®‰è£…nodeæ—¶ï¼Œnodeçš„å®‰è£…è·¯å¾„\nç¬¬å››æ­¥ï¼šå®‰è£…å®Œæˆåï¼Œåœ¨CMDå‘½ä»¤çª—å£è¾“å…¥nvm -v,è¾“å‡ºå¦‚ä¸‹ç‰ˆæœ¬å·å³è¯æ˜å®‰è£…æˆåŠŸ\nç¬¬äº”æ­¥ï¼šä¿®æ”¹nvmé…ç½®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰nvmå®‰è£…å®Œæˆåï¼Œæ‰“å¼€nvmå®‰è£…ç›®å½•ä¸‹çš„settings.txtæ–‡ä»¶:\n123456root: D:\\nvmpath: D:\\nvm\\nodejs arch: 64 proxy: nonenode_mirror: http://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/\n\nrootå’Œpathåˆ†åˆ«æ˜¯nvmå’Œnodeçš„å®‰è£…è·¯å¾„ï¼Œè¿™ä¸¤ä¸ªä¸è¦åŠ¨ï¼Œè¿™æ˜¯ä¹‹å‰å®‰è£…æ—¶æ ¹æ®ä½ é€‰æ‹©çš„è·¯å¾„è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶é»˜è®¤ä¹Ÿåªæœ‰è¿™ä¸¤é¡¹ã€‚å› ä¸ºæˆ‘æ²¡æ”¹é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥åé¢çš„4é¡¹æˆ‘éƒ½æ²¡æœ‰ï¼Œåªæ˜¯åæ¥æœåˆ°äº†ï¼Œå°±è¯´ä¸€ä¸‹ï¼Œarchè¡¨ç¤ºå®‰è£…çš„nodeæ˜¯å¤šå°‘ä½ï¼Œproxyæ˜¯è®¾ç½®ä»£ç†ï¼Œnode_mirroræ˜¯æ›´æ”¹nvmä¸‹è½½nodeæ—¶çš„é•œåƒï¼Œè¿™é‡Œæ˜¯è®¾ç½®ä¸ºæ·˜å®é•œåƒï¼Œnpm_mirroræ˜¯æ›´æ”¹npmä¸‹è½½ä¾èµ–åŒ…çš„é•œåƒï¼Œä¹Ÿæ˜¯ä¿®æ”¹ä¸ºäº†æ·˜å®é•œåƒã€‚\nç¬¬å…­æ­¥ï¼šå®‰è£…nodeæŸ¥çœ‹nvmæ”¯æŒå®‰è£…çš„nodeç‰ˆæœ¬\nä½¿ç”¨ nvm list available\n\n ä½¿ç”¨nvm install ç‰ˆæœ¬å·å®‰è£…æŒ‡å®šç‰ˆæœ¬node\n æ¯”å¦‚ï¼šnvm install 22.20.0\næ£€æµ‹nodeå’Œnpmæ˜¯å¦å®‰è£…æˆåŠŸ,å¦‚ä¸‹æ˜¾ç¤ºåˆ™ä¸ºæˆåŠŸï¼š\n\nç¬¬ä¸ƒæ­¥ï¼šåˆ‡æ¢nodeç‰ˆæœ¬\n\n\n\n\n\n\næ³¨æ„\nå¿…é¡»ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€å‘½ä»¤è¡Œ\n\nåˆæ¬¡ä½¿ç”¨nvmå®‰è£…nodeä¹‹åï¼Œå¿…é¡»å…ˆä½¿ç”¨nvm use ç‰ˆæœ¬å·åˆ‡æ¢åˆ°å·²å®‰è£…ç‰ˆæœ¬çš„nodeæ‰å¯ä»¥\n123nvm use 16.20.0nvm list node -v\n\n\n","slug":"nvm-use","date":"2025-10-24T11:33:21.000Z","categories_index":"æ’ä»¶","tags_index":"æ’ä»¶,node","author_index":"Azer"},{"id":"8c860e702e41ad422a6fe923d8248717","title":"æ­å»ºhexo-theme-auroraä¸»é¢˜æ¡†æ¶","content":"\n\n\n\n\n\n\n\n\né€šè¿‡è‡ªå·±æ­å»º hexo-theme-auroraä¸»é¢˜æ¡†æ¶ï¼Œä¸‹é¢æ˜¯å®˜æ–¹æ–‡æ¡£çš„éƒ¨åˆ†è¯´æ˜\n1.å®˜æ–¹æ–‡æ¡£è¯´æ˜â€‹\tä¾èµ–ç¯å¢ƒ â€‹\n\nHexo 6.3+\nYarn or NPM installed\n\næ­¥éª¤ 1 - å®‰è£…ä¸»é¢˜åŒ… â€‹åœ¨æ§åˆ¶å°ä¸­ï¼Œè¿›å…¥ Hexo é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ä¸»é¢˜\nYARN \n1yarn add hexo-theme-aurora hexo-plugin-aurora\n\nNPM \n1npm install hexo-theme-aurora hexo-plugin-aurora --save\n\n\n\næ­¥éª¤ 2 - ç”Ÿæˆä¸»é¢˜é…ç½® â€‹å› ä¸ºä¸»é¢˜æ˜¯ä½¿ç”¨ NPM æˆ–è€… Yarn å®‰è£…çš„ï¼Œè€Œä¸æ˜¯ clone åˆ° themes æ–‡ä»¶å¤¹çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚ä½ åªéœ€è¦åœ¨ Hexo åšå®¢çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª _config.aurora.yml é…ç½®æ–‡ä»¶æ¥é…ç½®ä¸»é¢˜ã€‚è¦è·å–é»˜è®¤ä¸»é¢˜æ¨¡æ¿ã€‚\nå¯¹äº Windows ç”¨æˆ·ï¼Œå¯ä»¥å°†ä¸‹é¢çš„æ¨¡æ¿å¤åˆ¶åˆ° _config.aurora.yml ä¸­ã€‚\nä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶è¿™ä¸ªæ¨¡ç‰ˆåˆ°é¡¹ç›®æ ¹ç›®å½•çš„ _config.aurora.yml ä¸­\næ­¥éª¤ 3 - é…ç½® themeâ€‹å› ä¸ºè¦å‘Šè¯‰ hexo ä½ è¦ç”¨çš„ä¸»é¢˜æ˜¯ aurora æ‰€ä»¥éœ€è¦æŠŠ _config.yml ä¸­çš„ theme å€¼æ”¹ä¸º aurora\n\næ‰“å¼€åœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ _config.yml\nä¿®æ”¹æŠŠ theme çš„å€¼æ”¹ä¸º aurora\n\nyml\n1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: aurora\n\n1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: aurora\n\næ­¥éª¤ 4 - è®¾ç½® permalinkâ€‹å› ä¸ºä½¿ç”¨äº† Vue-routerï¼ŒHexo é»˜è®¤ç”Ÿæˆçš„é¡µé¢å’Œæ–‡ç« çš„ permalink ä¸æˆ‘ä»¬ Vue router ä¸­çš„ path æ˜¯ä¸ç›¸ç¬¦çš„ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æ— æ³•è®¿é—®çš„é—®é¢˜ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ Hexo é»˜è®¤é…ç½®æ–‡ä»¶é‡Œé¢çš„ permalink å‚æ•°ã€‚\n\næ‰“å¼€åœ¨ Hexo æ ¹ç›®å½•ä¸‹çš„ _config.yml\nä¿®æ”¹ permalink å‚æ•°ä¸º /post/:title.html\n\nyaml\n12345678# URL## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;url: https://tridiamond.techpermalink: /post/:title.htmlpermalink_defaults:pretty_urls:  trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks  trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks\n\n\næ­¥éª¤ 5 - è®¾ç½®ä»£ç é«˜äº® â€‹\n\n\n\n\n\n\n\n\nä¸»é¢˜ 2.5 ç‰ˆæœ¬å¼€å§‹ä¸»é¢˜å·²ç»æ”¹ä¸ºä½¿ç”¨ Shiki ä½œä¸ºä»£ç é«˜äº®å¼•æ“ã€‚Shikiæ”¯æŒä½¿ç”¨ä» VSCode å¯¼å‡ºçš„ä¸»é¢˜ã€‚é¢œè‰²æ ‡è®°åŒ–ä¸ VSCode ç›¸åŒ! Shiki é»˜è®¤è¿˜æ”¯æŒäº†ä¸€äº›æœ€å¤šäººä½¿ç”¨çš„ä¸»é¢˜å“¦ï¼\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¦ç”¨ _config.yml ä¸­çš„ highlight å’Œ prismjs ã€‚\nyaml\n1234highlight:  enable: falseprismjs:  enable: false\n\n\nç„¶åå°†ä»¥ä¸‹é…ç½®æ·»åŠ åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.aurora.yml ä¸­\nyaml\n123456#! ---------------------------------------------------------------#! Highlighter Shiki#! ---------------------------------------------------------------shiki:  enable: true  backgroundColor: &#x27;#1a1a1a&#x27;\n\nhexoçš„å‘½ä»¤\n12345hexo  clean             # æ¸…é™¤ç¼“å­˜æ–‡ä»¶å’Œç”Ÿæˆçš„é™æ€æ–‡ä»¶hexo  new &quot;æ–‡ç« åç§°&quot;     # æ–°å»ºç•Œé¢hexo  generate          # ç”Ÿæˆé™æ€æ–‡ä»¶ å¯ä»¥ç®€å†™æˆhexo g hexo  server            # å¯åŠ¨æœåŠ¡å™¨   å¯ä»¥ç®€å†™hexo shexo  deploy            # éƒ¨ç½²ç½‘ç«™ï¼Œæ„å»ºåœ¨GitHubçš„æœåŠ¡å™¨ä¸­ï¼Œç½‘é¡µæ–‡ä»¶å°†ä¸Šä¼ åˆ°å…³è”çš„ä¸ªäººä»“åº“ å¯ä»¥ç®€å†™æˆhexo d\n\nå…¶å®åˆ°ä¸Šé¢å¾—æ­¥éª¤å®˜ç½‘æ–‡æ¡£å·²ç»ç»“æŸäº†ï¼Œä¸‹é¢æ˜¯è‡ªå·±çš„é…ç½®\n2.è‡ªæˆ‘é…ç½®1. Hexo ä¸­å›¾ç‰‡ä¸Šä¼ é—®é¢˜åœ¨ä½¿ç”¨ Hexo åšå®¢æ—¶ï¼Œå›¾ç‰‡çš„ç®¡ç†å’Œä¸Šä¼ æ˜¯å¸¸è§é—®é¢˜ä¹‹ä¸€ã€‚ç‰¹åˆ«æ˜¯å½“ä½ ä½¿ç”¨ Typora è¿›è¡Œ Markdown å†™ä½œæ—¶ï¼Œé»˜è®¤çš„å›¾ç‰‡æ’å…¥æ–¹å¼æ— æ³•è¢« Hexo æ­£ç¡®è¯†åˆ«ã€‚ä¸‹é¢æ˜¯å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚\nTypora è®¾ç½®åœ¨ Typora ä¸­ä¾æ¬¡è¿›å…¥ï¼šæ–‡ä»¶ â†’ åå¥½è®¾ç½® â†’ å›¾åƒå°†ã€Œæ’å…¥å›¾ç‰‡æ—¶ã€è®¾ç½®ä¸ºï¼š\n\nå¤åˆ¶å›¾ç‰‡åˆ°æŒ‡å®šè·¯å¾„  \nè·¯å¾„è®¾ç½®ä¸ºï¼š./source/images  \næ’å…¥å›¾ç‰‡æ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚\n\nè¿™æ ·ï¼ŒTypora æ¯æ¬¡æ’å…¥å›¾ç‰‡æ—¶éƒ½ä¼šè‡ªåŠ¨ä¿å­˜åˆ° Hexo çš„ source/images æ–‡ä»¶å¤¹ä¸‹ã€‚\nä¿®æ”¹ Hexo é…ç½®æ‰“å¼€ç«™ç‚¹æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼Œæ‰¾åˆ°å¦‚ä¸‹é…ç½®ï¼š\n1post_asset_folder: true\n\n2. å¼€å‘ Hexo è½¬æ¢å›¾ç‰‡è·¯å¾„æ’ä»¶åœ¨ä½¿ç”¨ Typora ç¼–è¾‘ Hexo æ–‡ç« æ—¶ï¼Œæ’å…¥çš„å›¾ç‰‡è·¯å¾„é€šå¸¸æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚ï¼š(../images/example.png)\nè€Œè¿™ä¸ªè½¬æ¢æˆ‘ä»¬éœ€è¦åœ¨æ–‡ç« ç¼–è¯‘ä¸ºhtmlä¹‹å‰ï¼Œåœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­è½¬æ¢ â€“&gt; &#123;% asset_img example.jpg example %&#125;\n2.1 åˆ›å»ºæ’ä»¶æ–‡ä»¶å¹¶å®ç°é€»è¾‘è¦è®© Hexo è‡ªåŠ¨ä¿®å¤ Typora æ’å…¥å›¾ç‰‡çš„è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰æ’ä»¶æ¥å®ç°ã€‚\nåœ¨ Hexo æ ¹ç›®å½•ä¸‹åˆ›å»º hexo-asset-img æ–‡ä»¶å¤¹ï¼ˆå¦‚æœå·²ç»å­˜åœ¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰ï¼š\n123mkdir hexo-asset-imgcd hexo-asset-imgnpm init\n\n\n2.2 æµ‹è¯•ä¸è°ƒè¯•æ’ä»¶æ’ä»¶ç¼–å†™å®Œæˆåï¼Œéœ€è¦è¿›è¡Œæœ¬åœ°æµ‹è¯•ä»¥ç¡®è®¤é€»è¾‘æ˜¯å¦ç”Ÿæ•ˆã€è·¯å¾„æ˜¯å¦æ­£ç¡®æ›¿æ¢ã€‚\nåˆ›å»ºindex.jsæ–‡ä»¶åˆ°æ ¹ç›®å½•ä¸‹é¢ï¼Œå¤åˆ¶ä»£ç åˆ°é‡Œé¢å»\n12345678910111213141516171819202122232425262728293031const log = require(&#x27;hexo-log&#x27;)(&#123; &#x27;debug&#x27;: false, &#x27;slient&#x27;: false &#125;);/** * mdæ–‡ä»¶è¿”å› true * @param &#123;*&#125; data  */function ignore(data) &#123;    var source = data.source;    var ext = source.substring(source.lastIndexOf(&#x27;.&#x27;)).toLowerCase();    return [&#x27;md&#x27;,].indexOf(ext) &gt; -1;&#125;function action(data) &#123;    var reverseSource = data.source.split(&quot;&quot;).reverse().join(&quot;&quot;);    var fileName = reverseSource.substring(3, reverseSource.indexOf(&quot;/&quot;)).split(&quot;&quot;).reverse().join(&quot;&quot;);    // ![example](postname/example.jpg)  --&gt;  &#123;% asset_img example.jpg example %&#125;    var regExp = RegExp(&quot;!\\\\[(.*?)\\\\]\\\\(&quot; + fileName + &#x27;/(.+?)\\\\)&#x27;, &quot;g&quot;);    // hexo g    data.content = data.content.replace(regExp, &quot;&#123;% asset_img $2 $1 %&#125;&quot;,&quot;g&quot;);    // log.info(`hexo-asset-img: filename: $&#123;fileName&#125;, title: $&#123;data.title.trim()&#125;`);        return data;&#125;hexo.extend.filter.register(&#x27;before_post_render&#x27;,(data)=&gt;&#123;    if(!ignore(data))&#123;        action(data)    &#125;&#125;, 0);\n\n2.3 æœ¬åœ°æµ‹è¯•æ’ä»¶1.Hexoæ ¹ç›®å½•ä¸‹ package.json ä¸­ dependencies æ·»åŠ ä¸€è¡Œ&quot;hexo-asset-img&quot;:&quot;^1.0.8&quot;\n2.å°† hexo-asset-img æ–‡ä»¶å¤¹å¤åˆ¶åˆ° Hexo æ ¹ç›®å½•ä¸‹ node modules æ–‡ä»¶å¤¹ä¸‹\n\n\n\n\n\n\n\næ³¨æ„\näºŒè€…ç¼ºä¸€ä¸å¯ï¼Œä¸ä¿®æ”¹ package.jsonï¼Œæ²¡æˆåŠŸåŠ è½½æ’ä»¶\n\n2.4 ä½¿ç”¨æ’ä»¶1npm publish --registry https://registry.npmjs.org\n\n1npm install hexo-asset-img --save\n\n","slug":"page","date":"2025-10-24T01:44:56.000Z","categories_index":"æ¡†æ¶","tags_index":"hexo","author_index":"Azer"}]